:::snippet 基本示例

> 因为组件是可复用的 Vue 实例，所以它们与 new Vue 接收相同的选项，例如 data、computed、watch、methods 以及生命周期钩子等。仅有的例外是像 el 这样根实例特有的选项。
> 当点击按钮时，每个组件都会各自独立维护它的 count。因为你每用一次组件，就会有一个它的新实例被创建。
> 一个组件的 data 选项必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝。
> 全局注册的 Vue.component('my-component-name', { ... options ...})

```javascript
Vue.component('button-count', {
    data: function() {
        return {
            count: 0
        };
    },
    template:
        '<button v-on:click="count++">You clicked me {{ count}} times.</button>'
});
let app01 = new Vue({
    el: '#app01'
});
```

```html
<div id="app01">
    <button-count></button-count>
    <button-count></button-count>
    <button-count></button-count>
</div>
```

:::

:::snippet 通过 Prop 向子组件传递数据

```javascript
Vue.component('blog-props', {
    props: ['title'],
    template: '<h3>{{ title }}</h3>'
});
let app02 = new Vue({
    el: '#app02'
});
```

```html
<div id="app02">
    <blog-props title="测试"></blog-props>
    <blog-props title="表头"></blog-props>
</div>
```

:::

:::snippet 单个根元素

```javascript
Vue.component('blog-post', {
    props: ['post'],
    template: `
    <div class="blog-post">
      <h3>{{ post.title }}</h3>
      <div v-html="post.content"></div>
    </div>
  `
});
let app03 = new Vue({
    el: '#app03',
    data: {
        posts: [
            {
                id: 1,
                title: '博客Vue',
                content: 'vue 学习笔记'
            },
            {
                id: 2,
                title: '简书Vue',
                content: '简书 学习笔记'
            },
            {
                id: 3,
                title: 'gitfun',
                content: 'git 学习笔记'
            }
        ]
    }
});
```

```html
<div id="app03">
    <blog-post
        v-for="post in posts"
        v-bind:key="post.id"
        v-bind:post="post"
    ></blog-post>
</div>
```

:::

:::snippet 通过事件向父级组件发送消息

> 我们可以调用内建的 `$emit`方法并传入事件的名字，来向父级组件触发一个事件：
> 使用 $emit 的第二个参数来提供这个值,在父级组件监听这个事件的时候，我们可以通过 $event 访问到被抛出的这个值

```javascript
Vue.component('blog-post-event', {
    props: ['post'],
    template: `
    <div class="blog-post">
      <h3>{{ post.title }}</h3>
      <button v-on:click="$emit('parent-font')">
        font_size
      </button>
      <button v-on:click="$emit('parent-width',10)">
        width_size
      </button>
      <button v-on:click="$emit('parent-height',10)">
        width_size
      </button>
      <div v-html="post.content"></div>
    </div>
  `
});
let app04 = new Vue({
    el: '#app04',
    data: {
        posts: [
            {
                id: 1,
                title: '博客Vue',
                content: 'vue 学习笔记'
            },
            {
                id: 2,
                title: '简书Vue',
                content: '简书 学习笔记'
            },
            {
                id: 3,
                title: 'gitfun',
                content: 'git 学习笔记'
            }
        ],
        postFontSize: 1,
        widthSize: 400,
        heightSize: 160,
        colorValue: 'red'
    },
    methods: {
        parentHeight: function(enlargeAmount) {
            this.heightSize += enlargeAmount;
        }
    }
});
```

```html
<div id="app04">
    <div>
        <blog-post-event
            :style="{ fontSize: postFontSize + 'em',width: widthSize+'px', height: heightSize+'px',background: colorValue}"
            v-for="post in posts"
            v-bind:key="post.id"
            v-bind:post="post"
            v-on:parent-font="postFontSize += 0.2;"
            v-on:parent-width="widthSize += $event;"
            v-on:parent-height="parentHeight"
        ></blog-post-event>
    </div>
</div>
```

:::

:::snippet 自定义事件也可以用于创建支持 v-model 的自定义输入组件

```javascript
let app05 = new Vue({
    el: '#app05',
    data: {
        searchText1: '',
        searchText2: ''
    }
});
```

```html
<div id="app05">
    <input v-model="searchText1" />
    <p>{{searchText1}}</p>
    <input
        v-bind:value="searchText2"
        v-on:input="searchText2 = $event.target.value"
    />
    <p>{{searchText2}}</p>
</div>
```

:::

:::snippet 通过事件向父级组件发送消息

> 我们可以调用内建的 `$emit`方法并传入事件的名字，来向父级组件触发一个事件：
> 使用 $emit 的第二个参数来提供这个值,在父级组件监听这个事件的时候，我们可以通过 $event 访问到被抛出的这个值

```javascript
Vue.component('custom-input', {
    props: ['value'],
    template: `
                <div>
    <input
      v-bind:val ue="value"
      v-on:input="$emit('input', $event.target.value)"
    >
    <p>{{value}}</p>
    </div>
  `
});
let app06 = new Vue({
    el: '#app06',
    data: {
        searchText: ''
    }
});
```

```html
<div id="app06">
    <custom-input v-model="searchText"></custom-input>
</div>
```

:::

:::snippet 通过插槽分发内容

```javascript
Vue.component('alert-box', {
    template: `
    <div class="demo-alert-box">
      <strong>Error!</strong>
      <slot></slot>
    </div>
  `
});
let app07 = new Vue({
    el: '#app07'
});
```

```html
<div id="app07">
    <alert-box>
        Something bad happened.
    </alert-box>
</div>
```

:::

:::snippet 动态组件

```css
.tab-button {
    padding: 6px 10px;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    border: 1px solid #ccc;
    cursor: pointer;
    background: #f0f0f0;
    margin-bottom: -1px;
    margin-right: -1px;
}

.tab-button:hover {
    background: #e0e0e0;
}

.tab-button.active {
    background: #e0e0e0;
}

.tab {
    border: 1px solid #ccc;
    padding: 10px;
}
```

```javascript
Vue.component('tab-home', {
    template: '<div>home componet</div>'
});
Vue.component('tab-house', {
    template: '<div>house componet</div>'
});
Vue.component('tab-family', {
    template: '<div>family componet</div>'
});
let app08 = new Vue({
    el: '#app08',
    data: {
        currentTab: 'Home',
        tabs: ['home', 'house', 'family']
    },
    computed: {
        currentTabComponent: function() {
            return 'tab-' + this.currentTab.toLowerCase();
        }
    }
});
```

```html
<div id="app08">
    <button
        v-for="tab in tabs"
        v-bind:key="tab"
        v-bind:class="['tab-button', { active: currentTab === tab }]"
        v-on:click="currentTab = tab"
    >
        {{ tab }}
    </button>
    <component v-bind:is="currentTabComponent" class="tab"></component>
</div>
```

:::

:::snippet 解析 DOM 模板时的注意事项

> `<ul>`、`<ol>`、`<table>` 和 `<select>`，对于哪些元素可以出现在其内部是有严格限制的。而有些元素，诸如 `<li>`、`<tr>` 和 `<option>`，只能出现在其它某些特定的元素内部。
> 如果我们从以下来源使用模板的话，这条限制是不存在的：`字符串 (例如：template: '...')`、`单文件组件 (.vue)`、`<script type="text/x-template">`

```html
<div id="app09">
    错误
    <table>
        <blog-post-row></blog-post-row>
    </table>
    正确
    <table>
        <tr is="blog-post-row"></tr>
    </table>
</div>
```

:::
