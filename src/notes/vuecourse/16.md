:::snippet 访问根实例

1. 在每个 new Vue 实例的子组件中，其根实例可以通过 $root 属性进行访问。 
2. 所有的子组件都可以将这个实例作为一个全局 store 来访问或使用。

> 对于 demo 或非常小型的有少量组件的应用来说这是很方便的。<br>
> 在绝大多数情况下，强烈推荐使用 Vuex 来管理应用的状态。

```html
<div id="app">
  <my-component> </my-component>
</div>
```

```javascript
Vue.component("my-component", {
  template: `
            <div class="blog-post">
                <button @click="handleClose()">点击</button>
            </div>`,
  methods: {
    handleClose() {
      // 获取根组件的数据
      console.log(this.$root.foo);
      // 写入根组件的数据
      this.$root.foo = 2;
      console.log(this.$root.foo);
      // 访问根组件的计算属性
      console.log(this.$root.bar);
      // 调用根组件的方法
      console.log(this.$root.baz());
    }
  }
});
// Vue 根实例
new Vue({
  el: "#app",
  data: {
    foo: 1
  },
  computed: {
    bar: function() {
      return this.foo + "bar";
    }
  },
  methods: {
    baz: function() {
      this.foo++;
      return this.foo + "baz";
    }
  }
});
```

:::

:::snippet 访问父级组件实例

1. 和 $root 类似，$parent 属性可以用来从一个子组件访问父组件的实例。
2. 它提供了一种机会，可以在后期随时触达父级组件，以替代将数据以 prop 的方式传入子组件的方式。

> 在绝大多数情况下，触达父级组件会使得你的应用更难调试和理解，尤其是当你变更了父级组件的数据的时候。当我们稍后回看那个组件的时候，很难找出那个变更是从哪里发起的。<br>
> 我们针对需要向任意更深层级的组件提供上下文信息时推荐依赖注入的原因。

:::

:::snippet 作用域插槽

> `slot-scope` 不再限制在`<template>`元素上使用，而可以用在插槽内的任何元素或组件上。
> 解构 `slot-scope`

```html
<div id="app03">
  <todo-list v-bind:todos="todos">
    <template slot-scope="slotProps">
      <span v-if="slotProps.todo.isComplete">√</span>
      {{ slotProps.todo.text }}
    </template>
  </todo-list>
  <hr />
  <todo-list v-bind:todos="todos">
    <template slot-scope="{ todo }">
      <span v-if="todo.isComplete">✓</span>
      {{ todo.text }}
    </template>
  </todo-list>
</div>
```

```javascript
Vue.component("todo-list", {
  props: ["todos"],
  template: `
                    <ul>
                    <li  v-for="todo in todos" v-bind:key="todo.id">
                    <slot v-bind:todo="todo">
                    {{todo.text}}
                    </slot>
                    </li>
                    </ul>
                    `
});
app03 = new Vue({
  el: "#app03",
  data: {
    todos: [
      { id: 1, text: "小白", isComplete: true },
      { id: 2, text: "小强", isComplete: true },
      { id: 3, text: "小明", isComplete: false },
      { id: 4, text: "咪咪", isComplete: true },
      { id: 5, text: "妹妹", isComplete: false }
    ]
  }
});
```

:::
