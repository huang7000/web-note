<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <title>菜鸟教程(runoob.com)</title>
  <style>
    .droptarget {
      float: left;
      width: 100px;
      height: 35px;
      margin: 15px;
      padding: 10px;
      border: 1px solid #aaaaaa;
    }
  </style>
</head>

<body>

  <p>在两个矩形框中来回拖动 p 元素:</p>
  <div class="droptarget" ondrop="drop(event)" ondragover="dragOver(event)" ondragenter="dragEnter(event)"
    ondragleave="dragLeave(event)">
    <p ondragstart="dragStart(event)" ondrag="drag(event)" ondragend="dragEnd(event)" draggable="true" id="dragtarget">
      拖动我!</p>
  </div>
  <div class="droptarget" ondrop="drop(event)" ondragover="dragOver(event)" ondragenter="dragEnter(event)"
    ondragleave="dragLeave(event)">
  </div>
  <p style="clear:both;"><strong>注意：</strong>Internet Explorer 8 及更早 IE 版本或 Safari 5.1 及更早版本的浏览器不支持 drag 事件。</p>
  <p id="demo"></p>
  <script>
    function dragStart(event) {
      //dataTransfer.setData()方法设置数据类型和拖动的数据
      event.dataTransfer.setData("Text", event.target.id);
      // 拖动 p 元素时输出一些文本
      document.getElementById("demo").innerHTML = "开始拖动 p 元素.";
      //修改拖动元素的透明度
      event.target.style.opacity = "0.4";
    }
    function dragEnd(event) {
      document.getElementById("demo").innerHTML = "完成 p 元素的拖动";
      event.target.style.opacity = "1";
    }
    function drag(event) {
      document.getElementById("demo").style.color = "red";
      //document.getElementById("demo").innerHTML = " p 元素正在拖动";
    }
    function dragEnter(event) {
      if (event.target.className == "droptarget") {
        //document.getElementById("demo").innerHTML = "进入放置区域";
        event.target.style.border = "3px dotted red";
      }
    }
    function dragLeave(event) {
      if (event.target.className == "droptarget") {
        //document.getElementById("demo").innerHTML = "离开放置区域";
        event.target.style.border = "";
      }
    }
    function dragOver(event) {
      event.preventDefault();
    }
    function drop(event) {
      event.preventDefault();
      if (event.target.className == "droptarget") {
        document.getElementById("demo").style.color = "";
        event.target.style.border = "";
        var data = event.dataTransfer.getData("Text");
        event.target.appendChild(document.getElementById(data));
      }
    }
  </script>

</body>

</html>