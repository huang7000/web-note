<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>菜鸟教程(runoob.com)</title>

</head>

<body>
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>

  <div id="app">
    <button @click="handleRouter()">点击跳转</button>
    <router-view></router-view>
  </div>
  <script>
    const Home = {
      template: `
    <div class="home">
      <h2>Home {{ $route.params.id }}</h2>
    </div>
  `
    }

    const User = {
      template: `
    <div class="user">
      <h2>User {{ $route.params.id }}</h2>
      <router-view></router-view>
    </div>
  `
    }
    const UserHome = {
      template: `
    <div class="user">
      <h2>UserHome {{ $route.params }}</h2>
    </div>
  `
    }
    const UserProfile = {
      template: `
    <div class="user">
      <h2>UserProfile {{ $route.params }}</h2>
    </div>
  `
    }

    const UserPosts = {
      template: `
    <div class="user">
      <h2>UserPosts {{ $route.params }}</h2>
    </div>
  `
    }
    const router = new VueRouter({
      routes: [{
          path: '/home',
          component: Home,
        },
        {
          path: '/user/:id',
          component: User,
          children: [
            // 当 /user/:id 匹配成功，
            // UserHome 会被渲染在 User 的 <router-view> 中
            {
              path: '',
              component: UserHome
            },
            {
              // 当 /user/:id/profile 匹配成功，
              // UserProfile 会被渲染在 User 的 <router-view> 中
              path: 'profile',
              component: UserProfile
            },
            // {
            //   // 当 /user/:id/posts 匹配成功
            //   // UserPosts 会被渲染在 User 的 <router-view> 中
            //   path: 'posts',
            //   component: UserPosts
            // },
            //没有匹配到合适的子路由。如果你想要渲染点什么，可以提供一个 空的 子路由
            {
              path: '*',
              component: UserHome
            },
          ]
        }
      ]
    })

    new Vue({
      el: '#app',
      router,
      data() {
        return {
          count: 0
        }

      },
      methods: {
        handleRouter() {
          // 字符串
          // this.$router.push('home')
          // // 对象
          this.count++;
          const count = this.count
          // this.$router.replace({
          //   path: `/home`
          // })
          router.replace({
            path: `/home`
          })
          console.log(count)
          return
          // 命名的路由
          // this.$router.push({
          //   name: 'User',
          //   params: {
          //     userId: '123'
          //   }
          // })

          // // 带查询参数，变成 /register?plan=private
          // this.$router.push({
          //   path: 'register',
          //   query: {
          //     plan: 'private'
          //   }
          // })
        }
      },
    });
  </script>
</body>

</html>