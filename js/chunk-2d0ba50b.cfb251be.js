(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ba50b"],{"374e":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Mixins")])]),a("ol",[a("li",[s._v("定义了两个 Mixins 类")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Disposable Mixin")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Disposable {\n isDisposed: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("boolean")]),s._v(";\n dispose() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".isDisposed = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Activatable Mixin")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Activatable {\n isActive: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("boolean")]),s._v(";\n activate() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".isActive = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n }\n deactivate() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".isActive = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n }\n}\n")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("创建一个类，结合了这两个 mixins。为将要 mixin 进来的属性方法创建出占位属性。")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" SmartObject "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("implements")]),s._v(" Disposable, Activatable {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n   setInterval(\n     "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".isActive + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('" : "')]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".isDisposed),\n     "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v("\n   );\n }\n\n interact() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".activate();\n }\n\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Disposable")]),s._v("\n isDisposed: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("boolean")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n dispose: "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("void")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Activatable")]),s._v("\n isActive: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("boolean")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n activate: "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("void")]),s._v(";\n deactivate: "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("void")]),s._v(";\n}\n")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("创建这个帮助函数，帮我们做混入操作。 它会遍历 mixins 上的所有属性，并复制到目标上去，把之前的占位属性替换成真正的实现代码。")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("applyMixins")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("derivedCtor: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("any")]),s._v(", baseCtors: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("any")]),s._v("[]")]),s._v(") ")]),s._v("{\n baseCtors.forEach("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("baseCtor")]),s._v(") =>")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".getOwnPropertyNames(baseCtor.prototype).forEach("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name")]),s._v(") =>")]),s._v(" {\n     derivedCtor.prototype[name] = baseCtor.prototype[name];\n   });\n });\n}\n")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("创建实例")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" smartObj = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" SmartObject();\nsetTimeout("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" smartObj.interact(), "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(");\n")])])],2)],1)},e=[],p=a("2877"),n={},l=Object(p["a"])(n,r,e,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0ba50b.cfb251be.js.map