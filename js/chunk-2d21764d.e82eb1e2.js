(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21764d"],{c714:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("类型兼容性")])]),a("ol",[a("li",[s._v("介绍\nTypeScript里的类型兼容性是基于结构子类型的。 结构类型是一种只使用其成员来描述类型的方式。\n数据类型的兼容性或等价性是通过明确的声明和/或类型的名称来决定的。")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("interface")]),s._v(" Named {\n   name: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(";\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Person {\n   name: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(";\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" p: Named;\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK, because of structural typing")]),s._v("\np = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person();\n")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("关于可靠性的注意事项\nTypeScript结构化类型系统的基本规则是，如果x要兼容y，那么y至少具有与x相同的属性。")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("interface")]),s._v(" Named {\n   name: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(";\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" x: Named;\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// y's inferred type is { name: string; location: string; }")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" y = { name: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Alice'")]),s._v(", location: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Seattle'")]),s._v(" };\nx = y;\n")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("比较两个函数")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//参数列表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" x = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")])]),s._v(") =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" y = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("b: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v(", s: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")])]),s._v(") =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n\ny = x; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK")]),s._v("\nx = y; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Error")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回值类型")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" xx = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" ({name: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Alice'")]),s._v("});\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" yy = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" ({name: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Alice'")]),s._v(", location: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Seattle'")]),s._v("});\n\nxx = yy; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK")]),s._v("\nyy = xx; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Error, because x() lacks a location property")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("枚举")])]),a("p",[s._v("枚举类型与数字类型兼容，并且数字类型与枚举类型兼容。不同枚举类型之间是不兼容的。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("enum")]),s._v(" Status { Ready, Waiting };\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("enum")]),s._v(" Color { Red, Blue, Green };\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" status = Status.Ready;\nstatus = Color.Green;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Error")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("类")])]),a("p",[s._v("比较两个类类型的对象时，只有实例的成员会被比较。 静态成员和构造函数不在比较的范围内。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Animal {\n feet: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(", numFeet: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")])]),s._v(") { }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Size {\n feet: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("numFeet: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")])]),s._v(") { }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" a: Animal="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Animal("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"123"')]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("456")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" s: Size="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Size("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(");;\na = s;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK")]),s._v("\ns = a;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("泛型")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("interface")]),s._v(" Empty<T> {\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" x: Empty<"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v(">="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" y: Empty<"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(">="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"abc"')]),s._v(";\nx = y;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK, because y matches structure of x")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("interface")]),s._v(" NotEmpty<T> {\n   data: T;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" xx: NotEmpty<"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v(">;\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" yy: NotEmpty<"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(">;\nxx = yy;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Error, because x and y are not compatible")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" identity = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x: T")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(" ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ...")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" reverse = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("U")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("y: U")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("U")]),s._v(" ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ...")]),s._v("\n}\nidentity = reverse;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// OK, because (x: any) => any matches (y: any) => any")]),s._v("\n")])])],2)],1)},e=[],n=a("2877"),p={},l=Object(n["a"])(p,r,e,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d21764d.e82eb1e2.js.map