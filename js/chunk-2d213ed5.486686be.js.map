{"version":3,"sources":["webpack:///./src/server/index.js"],"names":["log4js","require","dbUtil","mssql","configure","appenders","everything","type","filename","maxLogSize","categories","default","level","objs","id","name","age","columns","Int","remark","nullable","VarChar","mergeTemp","results_mergeTemp","console","log"],"mappings":"iJAIMA,EAASC,EAAQ,QACjBC,EAASD,EAAQ,QACjBE,EAAQF,EAAQ,QAEtBD,EAAOI,UAAU,CACfC,UAAW,CACTC,WAAY,CACVC,KAAM,OACNC,SAAU,kBACVC,WAAY,SAGhBC,WAAY,CACVC,QAAS,CACPN,UAAW,CAAC,cACZO,MAAO,WAMb,wCAAC,+GAqCKC,EAAO,CAAC,CACRC,GAAI,IACJC,KAAM,QACNC,IAAK,IACJ,CACDF,GAAI,IACJC,KAAM,QACNC,IAAK,IAEP,CACEF,GAAI,IACJC,KAAM,QACNC,IAAK,IACJ,CACDF,GAAI,IACJC,KAAM,QACNC,IAAK,IAEP,CACEF,GAAI,KACJC,KAAM,SACNC,IAAK,KAILC,EAAQ,CACV,CAACF,KAAK,KAAKR,KAAKJ,EAAMe,IAAIC,OAAO,CAACC,UAAS,IAC3C,CAACL,KAAK,OAAOR,KAAKJ,EAAMkB,QAAQ,IAAIF,OAAO,CAACC,UAAS,IACrD,CAACL,KAAK,MAAMR,KAAKJ,EAAMe,IAAIC,OAAO,CAACC,UAAS,KAjE/C,SAwE+BlB,EAAOoB,UAAU,GAAG,GAAG,gBAAiBT,EAAKI,EAAS,iBAAkB,CAAC,KAAM,OAAQ,OAAQ,CAAC,KAAM,OAClI,QACC,GA1EJ,OAwEKM,EAxEL,OA2ECC,QAAQC,IAAIF,GA3Eb,0CAAD","file":"js/chunk-2d213ed5.486686be.js","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\n/* eslint-disable prettier/prettier */\n//\nconst log4js = require('log4js');\nconst dbUtil = require('./db/dbUtil');\nconst mssql = require('mssql');\n// config log4js\nlog4js.configure({\n  appenders: {\n    everything: {\n      type: 'file',\n      filename: '../logs/sys.log',\n      maxLogSize: 2048000\n    }\n  },\n  categories: {\n    default: {\n      appenders: ['everything'],\n      level: 'info'\n    }\n  }\n});\n\n\n(async () => {\n  //查询\n  // let results_list = await dbUtil.queryList(`SELECT * FROM t_targetTable WHERE 1=1 AND AGE>@AGE`,{AGE:\"20\"});\n  // console.log(results_list);\n  //分页查询\n  // let results_page = await dbUtil.queryListPage(`SELECT * FROM t_targetTable WHERE 1=1 AND AGE>@AGE`,{AGE:\"1\"},\"AGE\",2,2);\n  // console.log(results_page);\n  //增\n  // let results_insert = await dbUtil.insertModel({\n  //   studentId:null,\n  //   studentNo: 'test2',\n  //   studentName: '李彩霞',\n  //   studentAge: 28\n  // }, 't_Student', {\n  //   studentId: \"NEWID()\"\n  // });\n  // console.log(results_insert);\n  //改 model, tableName, whereStr,whereParam,defObj\n  // let results_update = await dbUtil.updateModel({\n  //   id: '11',\n  //   name: 'test2test2',\n  //   age: 2828\n  // }, 't_targetTable', \" where id=@whereid \", {\n  //   whereid: 11\n  // });\n  // console.log(results_update);\n\n  // //删\n  // let results_delete = await dbUtil.deleteList('delete from t_targetTable where id=@id', {\n  //   id: '11',\n  // });\n  // console.log(results_delete)\n  // 查询实体 \n  //  let results_model = await dbUtil.queryModel('select * from t_targetTable where id>@id', {\n  //   id: '1',\n  // });\n  // console.log(results_model)\n  let objs = [{\n      id: '1',\n      name: 'test1',\n      age: 11\n    }, {\n      id: '2',\n      name: 'test2',\n      age: 12\n    },\n    {\n      id: '3',\n      name: 'test3',\n      age: 13\n    }, {\n      id: '5',\n      name: 'test5',\n      age: 15\n    },\n    {\n      id: '13',\n      name: 'test13',\n      age: 23\n    }\n  ]\n  //primary: true\n  let columns=[\n    {name:\"id\",type:mssql.Int,remark:{nullable:true}},\n    {name:\"name\",type:mssql.VarChar(50),remark:{nullable:true}},\n    {name:\"age\",type:mssql.Int,remark:{nullable:true}}\n  ]\n  // let results_mergeObjs = await dbUtil.mergeObjs(\"t_targetTable\", objs, \" AND T.id=S.id\", [\"id\", \"name\", \"age\"], [\"id\", \"name\",\n  //   \"age\"\n  // ], true,);\n  // let results_merge = await dbUtil.merge(results_mergeObjs);\n  // console.log(results_merge)\n  let results_mergeTemp = await dbUtil.mergeTemp([],[],\"t_targetTable\", objs,columns, \" AND T.id=S.id\", [\"id\", \"name\", \"age\"], [\"id\", \"name\",\n    \"age\"\n  ], true, );\n  console.log(results_mergeTemp)\n  // let results_mergeSql = await dbUtil.mergeSql(\"t_targetTable\",\"UserInfoTest\", \" AND T.id=S.id\", [\"id\", \"name\", \"age\"], [\"id\", \"name\",\n  //   \"age\"\n  // ], true, );\n  // console.log(results_mergeSql)\n  // let results_4 = await dbUtil.query(`SELECT * FROM t_targetTable`)\n\n  // let sqlObjs = [{\n  //   sql: \"update t_targetTable set age=age+'100' where id=2;\"\n  // }, {\n  //   sql: \"update t_targetTable set age=age+'a1' where id=1;\"\n  // }]\n  // let results_5 = await dbUtil.transaction(sqlObjs)\n  //console.log(results_5);\n  // let results_6 = await dbUtil.transaction(`SELECT * FROM t_targetTable2`)\n  // console.log(results_6);\n  //存储过程\n  // let results_7 = await dbUtil.execute(`proc_targetTable`,{name:\"小明\"})\n  // console.log(results_7);\n})();"],"sourceRoot":""}