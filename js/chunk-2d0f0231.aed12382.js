(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0231"],{"9aa4":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("泛型之Hello World")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("identity")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("ary:"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("any")])]),s._v("):"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("any")])]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ary;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("identitype")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("ary:T")]),s._v("):"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")])]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ary;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//传入所有的参数，包含类型参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" outputT = identitype<"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"myString"')]),s._v("); \n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//利用了类型推论 -- 即编译器会根据传入的参数自动地帮助我们确定T的类型：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" output = identitype("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"myString"')]),s._v("); \n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("使用泛型变量")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("loadIdentity")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: T")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(" ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(arg.length);  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Error: T doesn't have .length")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" arg;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//loggingIdentity1=loggingIdentity2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("loggingIdentity1")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: T[]")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v("[] ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(arg.length);  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Array has a .length, so no more error")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" arg;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("loggingIdentity2")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v("<T>")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Array")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v("> ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(arg.length);  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Array has a .length, so no more error")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" arg;\n}\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("泛型类型")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("identity")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: T")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(" ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" arg;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" myIdentity: <T>"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: T")]),s._v(") =>")]),s._v(" T = identity;\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" yourIdentity: <U>"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: U")]),s._v(") =>")]),s._v(" U = identity;\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" myIdentity: {<T>(arg: T): T} = identity;\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("泛型类")])]),a("p",[s._v("泛型类指的是实例部分的类型，类的静态属性不能使用这个泛型类型。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" GenericNumber<T> {\n   zeroValue: T;\n   add: "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x: T, y: T")]),s._v(") =>")]),s._v(" T;\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" myGenericNumber = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" GenericNumber<"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v(">();\nmyGenericNumber.zeroValue = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\nmyGenericNumber.add = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x, y")]),s._v(") ")]),s._v("{ "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" x + y; };\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("泛型约束")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("interface")]),s._v(" Lengthwise {\n   length: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v(";\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("loggingIdentity")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Lengthwise")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arg: T")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("T")]),s._v(" ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(arg.length);  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Now we know it has a .length property, so no more error")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" arg;\n}\nloggingIdentity({length: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", value: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("});\n")])]),a("p",[s._v("在泛型约束中使用类型参数")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getProperty")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj: T, key: K")]),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" obj[key];\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" x = { a: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", b: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", c: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", d: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(" };\n\ngetProperty(x, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"a"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// okay")]),s._v("\ngetProperty(x, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"m"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// error: Argument of type 'm' isn't assignable to 'a' | 'b' | 'c' | 'd'.")]),s._v("\n")])]),a("p",[s._v("在泛型里使用类类型")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" BeeKeeper {\n   hasMask: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("boolean")]),s._v(";\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" ZooKeeper {\n   nametag: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(";\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Animal {\n   numLegs: "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("number")]),s._v(";\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Bee "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" Animal {\n   keeper: BeeKeeper;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Lion "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" Animal {\n   keeper: ZooKeeper;\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("createInstance")]),s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Animal")]),s._v(">("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("c: "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" () => A")]),s._v("): "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("A")]),s._v(" ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" c();\n}\ncreateInstance(Lion).keeper.nametag;  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// typechecks!")]),s._v("\ncreateInstance(Bee).keeper.hasMask;   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// typechecks!")]),s._v("\n")])])],2)],1)},e=[],n=a("2877"),p={},l=Object(n["a"])(p,r,e,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0f0231.aed12382.js.map