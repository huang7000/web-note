(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2390"],{"7e7c":function(s,a,t){"use strict";t.r(a);var r=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("hv-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("自定义指令")])]),t("p",[s._v("核心功能默认内置的指令 (v-model 和 v-show)，Vue 也允许注册自定义指令。")]),t("p",[s._v("注册一个全局自定义指令 "),t("code",{pre:!0},[s._v("v-focus")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Vue.directive("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"focus"')]),s._v(", {\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当被绑定的元素插入到 DOM 中时……")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inserted")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el")]),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 聚焦元素")]),s._v("\n   el.focus();\n },\n});\n")])]),t("p",[s._v("局部指令")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"app"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-focus")]),s._v(" />")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" vue({\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("el")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"app"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("directives")]),s._v(": {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("focus")]),s._v(": {\n     "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 指令的定义")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inserted")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el")]),s._v(") ")]),s._v("{\n       el.focus();\n     },\n   },\n },\n});\n")])])],2),t("hv-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("钩子函数参数")])]),t("p",[s._v("一个指令定义对象可以提供如下几个钩子函数 (均为可选)\n钩子函数的参数 (即 el、binding、vnode 和 oldVnode)。")]),t("ol",[t("li",[s._v("bind：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。")]),t("li",[s._v("inserted：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。")]),t("li",[s._v("update：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。")]),t("li",[s._v("componentUpdated：指令所在组件的 VNode 及其子 VNode 全部更新后调用。")]),t("li",[s._v("unbind：只调用一次，指令与元素解绑时调用。")])]),t("blockquote",[t("p",[s._v('除了 el 之外，其它参数都应该是只读的，切勿进行修改。如果需要在钩子之间共享数据，建议通过元素的 dataset 来进行。\nbinding：一个对象，包含以下 property：\nname：指令名，不包括 v- 前缀。\nvalue：指令的绑定值，例如：v-my-directive="1 + 1" 中，绑定值为 2。\noldValue：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。\nexpression：字符串形式的指令表达式。例如 v-my-directive="1 + 1" 中，表达式为 "1 + 1"。\narg：传给指令的参数，可选。例如 v-my-directive:foo 中，参数为 "foo"。\nmodifiers：一个包含修饰符的对象。例如：v-my-directive.foo.bar 中，修饰符对象为 { foo: true, bar: true }。')])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"example-1"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-demos:foo.a.b")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"message"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Vue.directive("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"demos"')]),s._v(", {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bind")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el, binding, vnode")]),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("JSON")]),s._v(".stringify;\n   el.innerHTML =\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name: "')]),s._v(" +\n     s(binding.name) +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<br>"')]),s._v(" +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"value: "')]),s._v(" +\n     s(binding.value) +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<br>"')]),s._v(" +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"expression: "')]),s._v(" +\n     s(binding.expression) +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<br>"')]),s._v(" +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"argument: "')]),s._v(" +\n     s(binding.arg) +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<br>"')]),s._v(" +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"modifiers: "')]),s._v(" +\n     s(binding.modifiers) +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<br>"')]),s._v(" +\n     "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vnode keys: "')]),s._v(" +\n     "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".keys(vnode).join("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('", "')]),s._v(");\n },\n});\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Vue({\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("el")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#example-1"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hello!"')]),s._v(",\n },\n});\n")])])],2),t("hv-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("动态指令参数")])]),t("p",[s._v('指令的参数可以是动态的。\n在 v-mydirective:[argument]="value" 中，argument 参数可以根据组件实例数据进行更新！这使得自定义指令可以在应用中被灵活使用。')]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"baseexample"')]),s._v(">")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("Scroll down the page"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-pin")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"200"')]),s._v(">")]),s._v("Stick me 200px from the top of the page"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Vue.directive("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pin"')]),s._v(", {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bind")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el, binding, vnode")]),s._v(") ")]),s._v("{\n   el.style.position = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fixed"')]),s._v(";\n   el.style.top = binding.value + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"px"')]),s._v(";\n },\n});\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Vue({\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("el")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#baseexample"')]),s._v(",\n});\n")])]),t("p",[s._v("进阶实例")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"dynamicexample"')]),s._v(">")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h3")]),s._v(">")]),s._v("Scroll down inside this section ↓"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h3")]),s._v(">")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-pin:")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("direction")]),s._v("]="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"200"')]),s._v(">")]),s._v("I am pinned onto the page at 200px to the left."),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Vue.directive("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pin"')]),s._v(", {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bind")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el, binding, vnode")]),s._v(") ")]),s._v("{\n   el.style.position = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fixed"')]),s._v(";\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s = binding.arg == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"left"')]),s._v(" ? "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"left"')]),s._v(" : "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"top"')]),s._v(";\n   el.style[s] = binding.value + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"px"')]),s._v(";\n },\n});\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Vue({\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("el")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#dynamicexample"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n     "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("direction")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"left"')]),s._v(",\n   };\n },\n});\n")])])],2),t("hv-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("函数简写")])]),t("p",[s._v("bind 和 update 时触发相同行为，而不关心其它的钩子。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Vue.directive("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"color-swatch"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el, binding")]),s._v(") ")]),s._v("{\n el.style.backgroundColor = binding.value;\n});\n")])])],2),t("hv-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("对象字面量")])]),t("p",[s._v("指令需要多个值，可以传入一个 JavaScript 对象字面量。记住，指令函数能够接受所有合法的 JavaScript 表达式。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-demos")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{ color: 'white', text: 'hello!' }\"")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Vue.directive("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"demos"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el, binding")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(binding.value.color); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "white"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(binding.value.text); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "hello!"')]),s._v("\n});\n")])])],2)],1)},e=[],n=t("2877"),p={},l=Object(n["a"])(p,r,e,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0e2390.de1895af.js.map