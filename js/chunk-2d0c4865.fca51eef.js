(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4865"],{"3acd":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbols")])]),a("p",[s._v("symbol 类型的值是通过 Symbol 构造函数创建的。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" s1 = Symbol("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v(");\nSymbol.keyFor(s1); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// undefined")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" s2 = Symbol("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(s1 === s2);\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//注意，Symbol.for()为 Symbol 值登记的名字，是全局环境的，不管有没有在全局环境运行。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" sfor1 = Symbol.for("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v(");\nSymbol.keyFor(sfor1); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// "foo"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" sfor2 = Symbol.for("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(sfor1 === sfor2);\n")])]),a("p",[s._v("像字符串一样，symbols 也可以被用做对象属性的键")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" sym = Symbol();\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj = {\n [sym]: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"value"')]),s._v(",\n};\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(obj[sym]); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// "value"')]),s._v("\n")])]),a("p",[s._v("Symbols 也可以与计算出的属性名声明相结合来声明对象的属性和类成员。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getClassNameSymbol = Symbol();\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" C {\n [getClassNameSymbol]() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"C"')]),s._v(";\n }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" c = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" C();\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" className = c[getClassNameSymbol](); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// "C"')]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("内置 symbols 用来表示语言内部的行为。")])]),a("ol",[a("li",[a("code",{pre:!0},[s._v("Symbol.hasInstance")]),s._v("方法，会被 instanceof 运算符调用。构造器对象用来识别一个对象是否是其实例。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.isConcatSpreadable")]),s._v("布尔值，表示当在一个对象上调用 Array.prototype.concat 时，这个对象的数组元素是否可展开。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.iterator")]),s._v("方法，被 for-of 语句调用。返回对象的默认迭代器。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.match")]),s._v("方法，被 String.prototype.match 调用。正则表达式用来匹配字符串。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.replace")]),s._v("方法，被 String.prototype.replace 调用。正则表达式用来替换字符串中匹配的子串。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.search")]),s._v("方法，被 String.prototype.search 调用。正则表达式返回被匹配部分在字符串中的索引。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.species")]),s._v("函数值，为一个构造函数。用来创建派生对象。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.split")]),s._v("方法，被 String.prototype.split 调用。正则表达式来用分割字符串。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.toPrimitive")]),s._v("方法，被 ToPrimitive 抽象操作调用。把对象转换为相应的原始值。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.toStringTag")]),s._v("方法，被内置方法 Object.prototype.toString 调用。返回创建对象时默认的字符串描述。")]),a("li",[a("code",{pre:!0},[s._v("Symbol.unscopables")]),s._v("对象，它自己拥有的属性会被 with 作用域排除在外。")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.hasInstance")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MyClass {\n [Symbol.hasInstance](foo) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" foo "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(";\n }\n}\n["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("] "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MyClass(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Even {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" [Symbol.hasInstance](obj) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Number")]),s._v("(obj) % "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" Even; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" Even; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.isConcatSpreadable")])]),a("p",[s._v("数组的默认行为是可以展开，Symbol.isConcatSpreadable 默认等于 undefined。该属性等于 true 时，也有展开的效果。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arr1 = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"c"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"d"')]),s._v("];\n["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"a"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"b"')]),s._v("].concat(arr1, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"e"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['a', 'b', 'c', 'd', 'e']")]),s._v("\narr1[Symbol.isConcatSpreadable]; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// undefined")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arr2 = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"c"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"d"')]),s._v("];\narr2[Symbol.isConcatSpreadable] = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"a"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"b"')]),s._v("].concat(arr2, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"e"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['a', 'b', ['c','d'], 'e']")]),s._v("\n")])]),a("p",[s._v("数组的对象正好相反，默认不展开。它的 Symbol.isConcatSpreadable 属性设为 true，才可以展开。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj = { length: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"c"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"d"')]),s._v(" };\n["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"a"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"b"')]),s._v("].concat(obj, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"e"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['a', 'b', obj, 'e']")]),s._v("\nobj[Symbol.isConcatSpreadable] = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"a"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"b"')]),s._v("].concat(obj, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"e"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['a', 'b', 'c', 'd', 'e']")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.species")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MyArray "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(" {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" [Symbol.species]() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(";\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MyArray();\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" b = a.map("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x")]),s._v(") =>")]),s._v(" x);\n\nb "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" MyArray; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// false")]),s._v("\nb "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.math")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("String")]),s._v(".prototype.match(regexp);\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 等同于")]),s._v("\nregexp[Symbol.match]("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MyMatcher {\n [Symbol.match]("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(") {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hello world"')]),s._v(".indexOf("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(");\n }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"e"')]),s._v(".match("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MyMatcher()); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.replace")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" x = {};\nx[Symbol.replace] = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("...s")]),s._v(") =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(s);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Hello"')]),s._v(".replace(x, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"World"')]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// ["Hello", "World"]')]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.search")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("String")]),s._v(".prototype.search(regexp);\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 等同于")]),s._v("\nregexp[Symbol.search]("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MySearch {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v(") {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value = value;\n }\n [Symbol.search]("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(") {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(".indexOf("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value);\n }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foobar"')]),s._v(".search("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MySearch("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v(")); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 0")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.split")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("String")]),s._v(".prototype.split(separator, limit);\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 等同于")]),s._v("\nseparator[Symbol.split]("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", limit);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MySplitter {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v(") {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value = value;\n }\n [Symbol.split]("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(") {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" index = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(".indexOf("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value);\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (index === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(") {\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(";\n   }\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(".substr("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", index), "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v(".substr(index + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value.length)];\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foobar"')]),s._v(".split("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MySplitter("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v(")); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['', 'bar']")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foobar"')]),s._v(".split("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MySplitter("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"bar"')]),s._v(")); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['foo', '']")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foobar"')]),s._v(".split("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" MySplitter("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"baz"')]),s._v(")); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 'foobar'")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.iterator")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Collection {\n *[Symbol.iterator]() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("while")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("[i] !== "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(") {\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("yield")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("[i];\n     ++i;\n   }\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" myCollection = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Collection();\nmyCollection["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("] = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\nmyCollection["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" value of myCollection) {\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(value);\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.toPrimitive")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj = {\n [Symbol.toPrimitive](hint) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v(" (hint) {\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"number"')]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"string"')]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"str"')]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"default"')]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"default"')]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Error")]),s._v("();\n   }\n },\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * obj; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 246")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(" + obj; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// '3default'")]),s._v("\nobj == "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"default"')]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("String")]),s._v("(obj); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 'str'")]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.toStringTag")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 例一")]),s._v("\n({ [Symbol.toStringTag]: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Foo"')]),s._v(" }.toString());\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// "[object Foo]"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 例二")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" Collection {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" [Symbol.toStringTag]() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"xxx"')]),s._v(";\n }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" x = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Collection();\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".prototype.toString.call(x); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// "[object xxx]"')]),s._v("\n")])])],2),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("Symbol.unscopables")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype[Symbol.unscopables];\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   copyWithin: true,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   entries: true,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   fill: true,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   find: true,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   findIndex: true,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   includes: true,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   keys: true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// }")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".keys("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype[Symbol.unscopables]);\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['copyWithin', 'entries', 'fill', 'find', 'findIndex', 'includes', 'keys']")]),s._v("\n")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-typescript"},[s._v("typescript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-typescript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 没有 unscopables 时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MyClass {\n foo() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(";\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("with")]),s._v(" (MyClass.prototype) {\n foo(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 有 unscopables 时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" MyClass {\n foo() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n }\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" [Symbol.unscopables]() {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { foo: "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" };\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(";\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("with")]),s._v(" (MyClass.prototype) {\n foo(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2")]),s._v("\n}\n")])])],2)],1)},e=[],p=a("2877"),l={},n=Object(p["a"])(l,r,e,!1,null,null,null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0c4865.fca51eef.js.map