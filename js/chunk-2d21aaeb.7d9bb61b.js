(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aaeb"],{bd0c:function(s,a,t){"use strict";t.r(a);var r=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},n=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("hr"),t("p",[s._v("学习目标:")]),t("ul",[t("li",[s._v("理解面向对象开发思想")]),t("li",[s._v("掌握 JavaScript 面向对象开发相关模式")]),t("li",[s._v("掌握在 JavaScript 中使用正则表达式")]),t("li")]),t("h2",[s._v("typora-copy-images-to media/06JavaScriptProfessional")]),t("h1",[s._v("JavaScript 高级")]),t("h2",[s._v("课程介绍")]),t("h3",[s._v("目标")]),t("ul",[t("li",[s._v("理解面向对象开发思想")]),t("li",[s._v("掌握 JavaScript 面向对象开发相关模式")]),t("li",[s._v("掌握在 JavaScript 中使用正则表达式")])]),t("h2",[s._v("基本概念复习")]),t("blockquote",[t("p",[s._v("由于 JavaScript 高级还是针对 JavaScript 语言本身的一个进阶学习，所以在开始之前我们先对以前所学过的 JavaScript 相关知识点做一个快速复习总结。")])]),t("h3",[s._v("重新介绍 JavaScript")]),t("h4",[s._v("JavaScript 是什么")]),t("ul",[t("li",[s._v("解析执行：轻量级解释型的，或是 JIT 编译型的程序设计语言")]),t("li",[s._v("语言特点：动态，头等函数 (First-class Function) 又称函数是 JavaScript 中的一等公民")]),t("li",[s._v("执行环境：在宿主环境（host environment）下运行，浏览器是最常见的 JavaScript 宿主环境。但是在很多非浏览器环境中也使用 JavaScript ，例如 node.js")]),t("li",[s._v("编程范式：基于原型、多范式的动态脚本语言，并且支持面向对象、命令式和声明式（如：函数式编程）编程风格")])]),t("h4",[s._v("JavaScript 的组成")]),t("div",{staticClass:"hv-snippet--table"},[t("table",[t("thead",[t("tr",[t("th",[s._v("组成部分")]),t("th",[s._v("说明")])])]),t("tbody",[t("tr",[t("td",[s._v("Ecmascript")]),t("td",[s._v("描述了该语言的语法和基本对象")])]),t("tr",[t("td",[s._v("DOM")]),t("td",[s._v("描述了处理网页内容的方法和接口")])]),t("tr",[t("td",[s._v("BOM")]),t("td",[s._v("描述了与浏览器进行交互的方法和接口")])])])])]),t("h4",[s._v("基本类型（值类型）")]),t("ul",[t("li",[s._v("Undefined")]),t("li",[s._v("Null")]),t("li",[s._v("Boolean")]),t("li",[s._v("Number")]),t("li",[s._v("String")])]),t("h4",[s._v("复杂类型（引用类型）")]),t("ul",[t("li",[s._v("Object")]),t("li",[s._v("Array")]),t("li",[s._v("Date")]),t("li",[s._v("RegExp")]),t("li",[s._v("Function")]),t("li",[s._v("基本包装类型：Boolean、Number、String")]),t("li",[s._v("单体内置对象： Global、Math")])]),t("h4",[s._v("类型检测")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("typeof")])]),t("li",[t("code",{pre:!0},[s._v("instanceof")])]),t("li",[t("code",{pre:!0},[s._v("Object.prototype.toString.call()")])])]),t("h4",[s._v("值类型和引用类型")]),t("ul",[t("li",[s._v("在内存中的存储方式\n值类型按值存储\n引用类型按引用存储")]),t("li",[s._v("复制"),t("br"),s._v("\n值类型按值复制\n引用类型按引用复制")]),t("li",[s._v("参数传递\n值类型按值传递\n引用类型按引用传递")])]),t("h4",[s._v("值类型与引用类型的差别")]),t("ul",[t("li",[s._v("基本类型在内存中占据固定大小的空间，因此被保存在栈内存中")]),t("li",[s._v("从一个变量向另一个变量复制基本类型的值，复制的是值的副本")]),t("li",[s._v("引用类型的值是对象，保存在堆内存")]),t("li",[s._v("包含引用类型值的变量实际上包含的并不是对象本身，而是一个指向该对象的指针")]),t("li",[s._v("从一个变量向另一个变量复制引用类型的值的时候，复制是引用指针，因此两个变量最终都指向同一个对象")])]),t("h3",[s._v("JavaScript 执行过程")]),t("p",[s._v("JavaScript 运行分为两个阶段：")]),t("ul",[t("li",[s._v("预解析\n全局预解析（所有变量和函数声明都会提前；同名的函数和变量函数的优先级高）\n函数内部预解析（所有的变量、函数和形参都会参与预解析）")]),t("li",[s._v("执行\n先预解析全局作用域，然后执行全局作用域中的代码，\n在执行全局代码的过程中遇到函数调用就会先进行函数预解析，然后再执行函数内代码。")])]),t("hr"),t("h2",[s._v("JavaScript 面向对象编程")]),t("h3",[s._v("面向对象介绍")]),t("h4",[s._v("什么是对象")]),t("blockquote",[t("p",[s._v("Everything is object （万物皆对象）")])]),t("p",[t("strong",[s._v("(1) 对象是单个事物的抽象。")]),t("strong",[s._v("(2) 对象是一个容器，封装了属性（property）和方法（method）。")])]),t("p",[s._v("属性是对象的状态，方法是对象的行为（完成某种任务）。\n在实际开发中，对象是一个抽象的概念，可以将其简单理解为："),t("strong",[s._v("数据集或功能集")]),s._v("。\nECMAScript-262 把对象定义为："),t("strong",[s._v("无序属性的集合，其属性可以包含基本值、对象或者函数")]),s._v("。\n严格来讲，这就相当于说对象是一组没有特定顺序的值。对象的每个属性或方法都有一个名字，而每个名字都\n映射到一个值。")]),t("h4",[s._v("什么是面向对象")]),t("blockquote",[t("p",[s._v("面向对象是过程式代码的一种高度封装，目的在于提高代码的开发效率和可维护性。")])]),t("p",[t("img",{attrs:{src:"media/06JavaScriptProfessional/Object-Oriented.jpg",alt:"面向对象"}})]),t("p",[s._v("面向对象编程 —— Object Oriented Programming，简称 OOP ，是一种编程开发思想。\n它将真实世界各种复杂的关系，抽象为一个个对象，然后由对象之间的分工与合作，完成对真实世界的模拟。\n在面向对象程序开发思想中，每一个对象都是功能中心，具有明确分工，可以完成接受信息、处理数据、发出信息等任务。\n因此，面向对象编程具有灵活、代码可复用、高度模块化等特点，容易维护和开发，比起由一系列函数或指令组成的传统的过程式编程（procedural programming），更适合多人合作的大型软件项目。")]),t("p",[s._v("面向对象与面向过程：")]),t("ul",[t("li",[s._v("面向过程就是亲力亲为，事无巨细，面面俱到，步步紧跟，有条不紊")]),t("li",[s._v("面向对象就是找一个对象，指挥得结果")]),t("li",[s._v("面向对象将执行者转变成指挥者")]),t("li",[s._v("面向对象不是面向过程的替代，而是面向过程的封装")])]),t("p",[s._v("面向对象的特性：封装性、继承性、多态性")]),t("h4",[s._v("程序中面向对象的基本体现")]),t("p",[s._v("在 JavaScript 中，所有数据类型都可以视为对象，当然也可以自定义对象。\n自定义的对象数据类型就是面向对象中的类（ Class ）的概念。\n我们以一个例子来说明面向过程和面向对象在程序流程上的不同之处。\n假设我们要处理学生的成绩表，为了表示一个学生的成绩，面向过程的程序可以用一个对象表示：\n如果采用面向对象的程序设计思想，我们首选思考的不是程序的执行流程，\n而是 "),t("code",{pre:!0},[s._v("Student")]),s._v(" 这种数据类型应该被视为一个对象，这个对象拥有 "),t("code",{pre:!0},[s._v("name")]),s._v(" 和 "),t("code",{pre:!0},[s._v("score")]),s._v(" 这两个属性（Property）。\n如果要打印一个学生的成绩，首先必须创建出这个学生对应的对象，然后，给对象发一个 "),t("code",{pre:!0},[s._v("printScore")]),s._v(" 消息，让对象自己把自己的数据打印出来。\n抽象数据行为模板（Class）：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, score")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".score = score\n}\n\nStudent.prototype.printScore = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名：'")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'  '")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'成绩：'")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".score)\n}\n")])]),t("p",[s._v("根据模板创建具体实例对象（Instance）：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" std1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Student("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Michael'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("98")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" std2 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Student("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Bob'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("81")]),s._v(")\n")])]),t("p",[s._v("实例对象具有自己的具体行为（给对象发消息）：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("std1.printScore() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 姓名：Michael  成绩：98")]),s._v("\nstd2.printScore() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 姓名：Bob  成绩 81")]),s._v("\n")])]),t("p",[s._v("面向对象的设计思想是从自然界中来的，因为在自然界中，类（Class）和实例（Instance）的概念是很自然的。\nClass 是一种抽象概念，比如我们定义的 Class——Student ，是指学生这个概念，\n而实例（Instance）则是一个个具体的 Student ，比如， Michael 和 Bob 是两个具体的 Student 。\n所以，面向对象的设计思想是：")]),t("ul",[t("li",[s._v("抽象出 Class")]),t("li",[s._v("根据 Class 创建 Instance")]),t("li",[s._v("指挥 Instance 得结果")])]),t("p",[s._v("面向对象的抽象程度又比函数要高，因为一个 Class 既包含数据，又包含操作数据的方法。")]),t("h3",[s._v("创建对象")]),t("h4",[s._v("简单方式")]),t("p",[s._v("我们可以直接通过 "),t("code",{pre:!0},[s._v("new Object()")]),s._v(" 创建：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" person = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v("()\nperson.name = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v("\nperson.age = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v("\n\nperson.sayName = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n")])]),t("p",[s._v("每次创建通过 "),t("code",{pre:!0},[s._v("new Object()")]),s._v(" 比较麻烦，所以可以通过它的简写形式对象字面量来创建：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" person = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayName")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n}\n")])]),t("p",[s._v("对于上面的写法固然没有问题，但是假如我们要生成两个 "),t("code",{pre:!0},[s._v("person")]),s._v(" 实例对象呢？\n通过上面的代码我们不难看出，这样写的代码太过冗余，重复性太高。")]),t("h4",[s._v("简单方式的改进：工厂函数")]),t("p",[s._v("我们可以写一个函数，解决代码重复问题：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("createPerson")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": name,\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": age,\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayName")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n   }\n }\n}\n")])]),t("p",[s._v("然后生成实例对象：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = createPerson("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = createPerson("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Mike'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n")])]),t("p",[s._v("这样封装确实爽多了，通过工厂模式我们解决了创建多个相似对象代码冗余的问题，\n但却没有解决对象识别的问题（即怎样知道一个对象的类型）。")]),t("h3",[s._v("构造函数")]),t("p",[s._v("内容引导：")]),t("ul",[t("li",[s._v("构造函数语法")]),t("li",[s._v("分析构造函数")]),t("li",[s._v("构造函数和实例对象的关系：实例的 constructor 属性、instanceof 操作符")]),t("li",[s._v("普通函数调用和构造函数调用的区别")]),t("li",[s._v("构造函数的返回值")]),t("li",[s._v("构造函数的静态成员和实例成员：函数也是对象、实例成员、静态成员")]),t("li",[s._v("构造函数的问题")])]),t("h4",[s._v("更优雅的工厂函数：构造函数")]),t("p",[s._v("一种更优雅的工厂函数就是下面这样，构造函数：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayName = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\np1.sayName() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => Jack")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Mike'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("23")]),s._v(")\np2.sayName() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => Mike")]),s._v("\n")])]),t("h4",[s._v("解析构造函数代码的执行")]),t("p",[s._v("在上面的示例中，"),t("code",{pre:!0},[s._v("Person()")]),s._v(" 函数取代了 "),t("code",{pre:!0},[s._v("createPerson()")]),s._v(" 函数，但是实现效果是一样的。\n这是为什么呢？\n我们注意到，"),t("code",{pre:!0},[s._v("Person()")]),s._v(" 中的代码与 "),t("code",{pre:!0},[s._v("createPerson()")]),s._v(" 有以下几点不同之处：")]),t("ul",[t("li",[s._v("没有显示的创建对象")]),t("li",[s._v("直接将属性和方法赋给了 "),t("code",{pre:!0},[s._v("this")]),s._v(" 对象")]),t("li",[s._v("没有 "),t("code",{pre:!0},[s._v("return")]),s._v(" 语句")]),t("li",[s._v("函数名使用的是大写的 "),t("code",{pre:!0},[s._v("Person")])])]),t("p",[s._v("而要创建 "),t("code",{pre:!0},[s._v("Person")]),s._v(" 实例，则必须使用 "),t("code",{pre:!0},[s._v("new")]),s._v(" 操作符。\n以这种方式调用构造函数会经历以下 4 个步骤：")]),t("ol",[t("li",[s._v("创建一个新对象")]),t("li",[s._v("将构造函数的作用域赋给新对象（因此 this 就指向了这个新对象）")]),t("li",[s._v("执行构造函数中的代码")]),t("li",[s._v("返回新对象")])]),t("p",[s._v("下面是具体的伪代码：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当使用 new 操作符调用 Person() 的时候，实际上这里会先创建一个对象")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// var instance = {}")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 然后让内部的 this 指向 instance 对象")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this = instance")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 接下来所有针对 this 的操作实际上操作的就是 instance")]),s._v("\n\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayName = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在函数的结尾处会将 this 返回，也就是 instance")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return this")]),s._v("\n}\n")])]),t("h4",[s._v("构造函数和实例对象的关系")]),t("p",[s._v("使用构造函数的好处不仅仅在于代码的简洁性，更重要的是我们可以识别对象的具体类型了。\n在每一个实例对象中的__proto__中同时有一个 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，该属性指向创建该实例的构造函数：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.constructor === Person) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p2.constructor === Person) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.constructor === p2.constructor) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",[s._v("对象的 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 属性最初是用来标识对象类型的，\n但是，如果要检测对象的类型，还是使用 "),t("code",{pre:!0},[s._v("instanceof")]),s._v(" 操作符更可靠一些：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1 "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" Person) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p2 "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" Person) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",[s._v("总结：")]),t("ul",[t("li",[s._v("构造函数是根据具体的事物抽象出来的抽象模板")]),t("li",[s._v("实例对象是根据抽象的构造函数模板得到的具体实例对象")]),t("li",[s._v("每一个实例对象都具有一个 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，指向创建该实例的构造函数\n注意： "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 是实例的属性的说法不严谨，具体后面的原型会讲到")]),t("li",[s._v("可以通过实例的 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 属性判断实例和构造函数之间的关系\n注意：这种方式不严谨，推荐使用 "),t("code",{pre:!0},[s._v("instanceof")]),s._v(" 操作符，后面学原型会解释为什么")])]),t("h4",[s._v("构造函数的问题")]),t("p",[s._v("使用构造函数带来的最大的好处就是创建对象更方便了，但是其本身也存在一个浪费内存的问题：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayHello = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'lpz'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(")\n")])]),t("p",[s._v("在该示例中，从表面上好像没什么问题，但是实际上这样做，有一个很大的弊端。\n那就是对于每一个实例对象，"),t("code",{pre:!0},[s._v("type")]),s._v(" 和 "),t("code",{pre:!0},[s._v("sayHello")]),s._v(" 都是一模一样的内容，\n每一次生成一个实例，都必须为重复的内容，多占用一些内存，如果实例对象很多，会造成极大的内存浪费。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayHello === p2.sayHello) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => false")]),s._v("\n")])]),t("p",[s._v("对于这种问题我们可以把需要共享的函数定义到构造函数外部：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("sayHello")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayHello = sayHello\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'lpz'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(")\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayHello === p2.sayHello) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",[s._v("这样确实可以了，但是如果有多个需要共享的函数的话就会造成全局命名空间冲突的问题。\n你肯定想到了可以把多个函数放到一个对象中用来避免全局命名空间冲突的问题：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" fns = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayHello")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n },\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayAge")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age)\n }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayHello = fns.sayHello\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayAge = fns.sayAge\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'lpz'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(")\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayHello === p2.sayHello) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayAge === p2.sayAge) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",[s._v("至此，我们利用自己的方式基本上解决了构造函数的内存浪费问题。\n但是代码看起来还是那么的格格不入，那有没有更好的方式呢？")]),t("h4",[s._v("构造函数小结")]),t("ul",[t("li",[s._v("构造函数语法")]),t("li",[s._v("分析构造函数")]),t("li",[s._v("构造函数和实例对象的关系：实例的 constructor 属性、instanceof 操作符")]),t("li",[s._v("构造函数的问题")])]),t("h3",[s._v("原型")]),t("p",[s._v("内容引导：")]),t("ul",[t("li",[s._v("使用 prototype 原型对象解决构造函数的问题")]),t("li",[s._v("分析 构造函数、prototype 原型对象、实例对象 三者之间的关系")]),t("li",[s._v("属性成员搜索原则：原型链")]),t("li",[s._v("实例对象读写原型对象中的成员")]),t("li",[s._v("原型对象的简写形式")]),t("li",[s._v("原生对象的原型：Object、Array、String")]),t("li",[s._v("原型对象的问题")]),t("li",[s._v("构造的函数和原型对象使用建议")])]),t("h4",[s._v("更好的解决方案： "),t("code",{pre:!0},[s._v("prototype")])]),t("p",[s._v("Javascript 规定，每一个构造函数都有一个 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 属性，指向另一个对象。\n这个对象的所有属性和方法，都会被构造函数的实例继承。\n这也就意味着，我们可以把所有对象实例需要共享的属性和方法直接定义在 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象上。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(Person.prototype)\nPerson.prototype.type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\nPerson.prototype.sayName = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person(...)\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person(...)\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayName === p2.sayName) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",[s._v("这时所有实例的 "),t("code",{pre:!0},[s._v("type")]),s._v(" 属性和 "),t("code",{pre:!0},[s._v("sayName()")]),s._v(" 方法，\n其实都是同一个内存地址，指向 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象，因此就提高了运行效率。")]),t("h4",[s._v("构造函数、实例、原型三者之间的关系")]),t("p",[t("img",{attrs:{src:"media/06JavaScriptProfessional/Constructor.png",alt:"构造函数、实例、原型三者之间的关系"}}),s._v("\n任何函数都具有一个 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 属性，该属性是一个对象。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("F")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{}\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(F.prototype) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => object")]),s._v("\n\nF.prototype.sayHi = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hi!'")]),s._v(")\n}\n")])]),t("p",[s._v("构造函数的 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象默认都有一个 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，指向 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象所在函数。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(F.constructor === F) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",[s._v("通过构造函数得到的实例对象内部会包含一个指向构造函数的 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象的指针 "),t("code",{pre:!0},[s._v("__proto__")]),s._v("。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" instance = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" F()\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(instance.__proto__ === F.prototype) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("p",{staticClass:"tip"},[s._v("\n  `__proto__` 是非标准属性。\n")]),t("p",[s._v("实例对象可以直接访问原型对象成员。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("instance.sayHi() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => hi!")]),s._v("\n")])]),t("p",[s._v("总结：")]),t("ul",[t("li",[s._v("任何函数都具有一个 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 属性，该属性是一个对象")]),t("li",[s._v("构造函数的 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象默认都有一个 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，指向 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象所在函数")]),t("li",[s._v("通过构造函数得到的实例对象内部会包含一个指向构造函数的 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 对象的指针 "),t("code",{pre:!0},[s._v("__proto__")])]),t("li",[s._v("所有实例都直接或间接继承了原型对象的成员")])]),t("h4",[s._v("属性成员的搜索原则：原型链")]),t("p",[s._v("了解了 "),t("strong",[s._v("构造函数-实例-原型对象")]),s._v(" 三者之间的关系后，接下来我们来解释一下为什么实例对象可以访问原型对象中的成员。\n每当代码读取某个对象的某个属性时，都会执行一次搜索，目标是具有给定名字的属性")]),t("ul",[t("li",[s._v("搜索首先从对象实例本身开始")]),t("li",[s._v("如果在实例中找到了具有给定名字的属性，则返回该属性的值")]),t("li",[s._v("如果没有找到，则继续搜索指针指向的原型对象，在原型对象中查找具有给定名字的属性")]),t("li",[s._v("如果在原型对象中找到了这个属性，则返回该属性的值")])]),t("p",[s._v("也就是说，在我们调用 "),t("code",{pre:!0},[s._v("person1.sayName()")]),s._v(" 的时候，会先后执行两次搜索：")]),t("ul",[t("li",[s._v("首先，解析器会问：“实例 person1 有 sayName 属性吗？”答：“没有。")]),t("li",[s._v("”然后，它继续搜索，再问：“ person1 的原型有 sayName 属性吗？”答：“有。")]),t("li",[s._v("”于是，它就读取那个保存在原型对象中的函数。")]),t("li",[s._v("当我们调用 person2.sayName() 时，将会重现相同的搜索过程，得到相同的结果。")])]),t("p",[s._v("而这正是多个对象实例共享原型所保存的属性和方法的基本原理。\n总结：")]),t("ul",[t("li",[s._v("先在自己身上找，找到即返回")]),t("li",[s._v("自己身上找不到，则沿着原型链向上查找，找到即返回")]),t("li",[s._v("如果一直到原型链的末端还没有找到，则返回 "),t("code",{pre:!0},[s._v("undefined")])])]),t("h4",[s._v("实例对象读写原型对象成员")]),t("p",[s._v("读取：")]),t("ul",[t("li",[s._v("先在自己身上找，找到即返回")]),t("li",[s._v("自己身上找不到，则沿着原型链向上查找，找到即返回")]),t("li",[s._v("如果一直到原型链的末端还没有找到，则返回 "),t("code",{pre:!0},[s._v("undefined")])])]),t("p",[s._v("值类型成员写入（"),t("code",{pre:!0},[s._v("实例对象.值类型成员 = xx")]),s._v("）：")]),t("ul",[t("li",[s._v("当实例期望重写原型对象中的某个普通数据成员时实际上会把该成员添加到自己身上")]),t("li",[s._v("也就是说该行为实际上会屏蔽掉对原型对象成员的访问")])]),t("p",[s._v("引用类型成员写入（"),t("code",{pre:!0},[s._v("实例对象.引用类型成员 = xx")]),s._v("）：")]),t("ul",[t("li",[s._v("同上")])]),t("p",[s._v("复杂类型修改（"),t("code",{pre:!0},[s._v("实例对象.成员.xx = xx")]),s._v("）：")]),t("ul",[t("li",[s._v("同样会先在自己身上找该成员，如果自己身上找到则直接修改")]),t("li",[s._v("如果自己身上找不到，则沿着原型链继续查找，如果找到则修改")]),t("li",[s._v("如果一直到原型链的末端还没有找到该成员，则报错（"),t("code",{pre:!0},[s._v("实例对象.undefined.xx = xx")]),s._v("）")])]),t("h4",[s._v("更简单的原型语法")]),t("p",[s._v("我们注意到，前面例子中每添加一个属性和方法就要敲一遍 "),t("code",{pre:!0},[s._v("Person.prototype")]),s._v(" 。\n为减少不必要的输入，更常见的做法是用一个包含所有属性和方法的对象字面量来重写整个原型对象：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayHello")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'我叫'")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'，我今年'")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'岁了'")]),s._v(")\n }\n}\n")])]),t("p",[s._v("在该示例中，我们将 "),t("code",{pre:!0},[s._v("Person.prototype")]),s._v(" 重置到了一个新的对象。\n这样做的好处就是为 "),t("code",{pre:!0},[s._v("Person.prototype")]),s._v(" 添加成员简单了，但是也会带来一个问题，那就是原型对象丢失了 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 成员。")]),t("p",[s._v("所以，我们为了保持 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 的指向正确，建议的写法是：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("constructor")]),s._v(": Person, "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 手动将 constructor 指向正确的构造函数")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayHello")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'我叫'")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'，我今年'")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'岁了'")]),s._v(")\n }\n}\n")])]),t("h4",[s._v("原生对象的原型")]),t("p",{staticClass:"tip"},[s._v("\n  所有函数都有 prototype 属性对象。\n")]),t("ul",[t("li",[s._v("Object.prototype")]),t("li",[s._v("Function.prototype")]),t("li",[s._v("Array.prototype")]),t("li",[s._v("String.prototype")]),t("li",[s._v("Number.prototype")]),t("li",[s._v("Date.prototype")]),t("li",[s._v("...")])]),t("p",[s._v("练习：为数组对象和字符串对象扩展原型方法。")]),t("h4",[s._v("原型对象的问题")]),t("ul",[t("li",[s._v("共享数组")]),t("li",[s._v("共享对象")])]),t("p",[s._v("如果真的希望可以被实例对象之间共享和修改这些共享数据那就不是问题。但是如果不希望实例之间共享和修改这些共享数据则就是问题。\n一个更好的建议是，最好不要让实例之间互相共享这些数组或者对象成员，一旦修改的话会导致数据的走向很不明确而且难以维护。")]),t("h4",[s._v("原型对象使用建议")]),t("ul",[t("li",[s._v("私有成员（一般就是非函数成员）放到构造函数中")]),t("li",[s._v("共享成员（一般就是函数）放到原型对象中")]),t("li",[s._v("如果重置了 "),t("code",{pre:!0},[s._v("prototype")]),s._v(" 记得修正 "),t("code",{pre:!0},[s._v("constructor")]),s._v(" 的指向")])]),t("h4",[s._v("搭建页面")]),t("p",[s._v("放一个容器盛放游戏场景 div#map，设置样式")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-css"},[s._v("css")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[t("span",{pre:!0,attrs:{class:"hljs-selector-id"}},[s._v("#map")]),s._v(" {\n "),t("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800px")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("600px")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": relative;\n}\n")])]),t("h4",[s._v("分析对象")]),t("ul",[t("li",[s._v("游戏对象")]),t("li",[s._v("蛇对象")]),t("li",[s._v("食物对象")])]),t("h4",[s._v("创建食物对象")]),t("ul",[t("li",[t("p",[s._v("Food")]),t("ul",[t("li",[t("p",[s._v("属性")]),t("ul",[t("li",[s._v("x")]),t("li",[s._v("y")]),t("li",[s._v("width")]),t("li",[s._v("height")]),t("li",[s._v("color")])])]),t("li",[t("p",[s._v("方法")]),t("ul",[t("li",[s._v("render       随机创建一个食物对象，并输出到map上")])])])])]),t("li",[t("p",[s._v("创建Food的构造函数，并设置属性")])])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" position = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'absolute'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" elements = [];\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Food")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x, y, width, height, color")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x = x || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".y = y || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 食物的宽度和高度(像素)")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width = width || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height = height || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 食物的颜色")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".color = color || "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'green'")]),s._v(";\n}\n")])]),t("ul",[t("li",[s._v("通过原型设置render方法，实现随机产生食物对象，并渲染到map上")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Food.prototype.render = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("map")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 随机食物的位置，map.宽度/food.宽度，总共有多少分food的宽度，随机一下。然后再乘以food的宽度")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseInt")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() * map.offsetWidth / "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width) * "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width;\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".y = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseInt")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() * map.offsetHeight / "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height) * "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height;\n\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 动态创建食物对应的div")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" div = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'div'")]),s._v(");\n map.appendChild(div);\n div.style.position = position;\n div.style.left = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.top = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".y + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.width = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.height = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.backgroundColor = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".color;\n elements.push(div);\n}\n")])]),t("ul",[t("li",[s._v("通过自调用函数，进行封装，通过window暴露Food对象")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".Food = Food;\n")])]),t("h4",[s._v("创建蛇对象")]),t("ul",[t("li",[t("p",[s._v("Snake")])]),t("li",[t("p",[s._v("属性")]),t("ul",[t("li",[s._v("width    蛇节的宽度 默认20")]),t("li",[s._v("height   蛇节的高度 默认20")]),t("li",[s._v("body     数组，蛇的头部和身体，第一个位置是蛇头")]),t("li",[s._v("direction    蛇运动的方向  默认right  可以是 left  top bottom")])])]),t("li",[t("p",[s._v("方法")]),t("ul",[t("li",[s._v("render  把蛇渲染到map上")])])]),t("li",[t("p",[s._v("Snake构造函数")])])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" position = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'absolute'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" elements = [];\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Snake")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("width, height, direction")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置每一个蛇节的宽度")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width = width || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height = height || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 蛇的每一部分, 第一部分是蛇头")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body = [\n   {"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v("},\n   {"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v("},\n   {"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v("}\n ];\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".direction = direction || "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(";\n}\n")])]),t("ul",[t("li",[s._v("render方法")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Snake.prototype.render = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("map")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.length; i++) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" obj = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i];\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" div = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'div'")]),s._v(");\n   map.appendChild(div);\n   div.style.left = obj.x * "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n   div.style.top = obj.y * "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n   div.style.position = position;\n   div.style.backgroundColor = obj.color;\n   div.style.width = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n   div.style.height = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n }\n}\n")])]),t("ul",[t("li",[s._v("在自调用函数中暴露Snake对象")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".Snake = Snake;\n")])]),t("h4",[s._v("创建游戏对象")]),t("p",[s._v("游戏对象，用来管理游戏中的所有对象和开始游戏")]),t("ul",[t("li",[s._v("Game\n"),t("ul",[t("li",[s._v("属性\n"),t("ul",[t("li",[s._v("food")]),t("li",[s._v("snake")]),t("li",[s._v("map")])])]),t("li",[s._v("方法\n"),t("ul",[t("li",[s._v("start            开始游戏（绘制所有游戏对象）")])])])])]),t("li",[s._v("构造函数")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Game")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("map")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".food = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Food();\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Snake();\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map = map;\n}\n")])]),t("ul",[t("li",[s._v("开始游戏，渲染食物对象和蛇对象")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Game.prototype.start = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".food.render("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.render("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n}\n")])]),t("h3",[s._v("游戏的逻辑")]),t("h4",[s._v("写蛇的move方法")]),t("ul",[t("li",[s._v("在蛇对象(snake.js)中，在Snake的原型上新增move方法")])]),t("ol",[t("li",[s._v("让蛇移动起来，把蛇身体的每一部分往前移动一下")]),t("li",[s._v("蛇头部分根据不同的方向决定 往哪里移动")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Snake.prototype.move = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("food, map")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 让蛇身体的每一部分往前移动一下")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.length - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("(; i > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i--) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i].x = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("].x;\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i].y = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("].y;\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 根据移动的方向，决定蛇头如何处理")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".direction) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'left'")]),s._v(":\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].x -= "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(":\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].x += "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'top'")]),s._v(":\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].y -= "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bottom'")]),s._v(":\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].y += "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n }\n}\n")])]),t("ul",[t("li",[s._v("在game中测试")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.move("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".food, "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.render("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n")])]),t("h4",[s._v("让蛇自己动起来")]),t("ul",[t("li",[t("p",[s._v("私有方法")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")])])]),t("hr"),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("   什么是私有方法？\n     不能被外部访问的方法\n   如何创建私有方法？\n     使用自调用函数包裹\n   ```\n\n- 在game.js中 添加runSnake的私有方法，开启定时器调用蛇的move和render方法，让蛇动起来\n- 判断蛇是否撞墙\n\n---snippet js \n---\n```js\nfunction runSnake() {\n var timerId = setInterval(function() {\n   this.snake.move(this.food, this.map);\n   // 在渲染前，删除之前的蛇\n   this.snake.render(this.map);\n   // 判断蛇是否撞墙\n   var maxX = this.map.offsetWidth / this.snake.width;\n   var maxY = this.map.offsetHeight / this.snake.height;\n   var headX = this.snake.body[0].x;\n   var headY = this.snake.body[0].y;\n   if (headX "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("< "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("0")]),s._v(" || "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("headX")]),s._v(" >")]),s._v("= maxX) {\n     clearInterval(timerId);\n     alert('Game Over');\n   }\n\n   if (headY "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("< "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("0")]),s._v(" || "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("headY")]),s._v(" >")]),s._v("= maxY) {\n     clearInterval(timerId);\n     alert('Game Over');\n   }\n\n }.bind(that), 150);\n}\n")])]),t("ul",[t("li",[s._v("在snake中添加删除蛇的私有方法，在render中调用")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("remove")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除渲染的蛇")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = elements.length - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("(; i >= "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i--) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除页面上渲染的蛇")]),s._v("\n   elements[i].parentNode.removeChild(elements[i]);\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除elements数组中的元素")]),s._v("\n   elements.splice(i, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n }\n}\n")])]),t("ul",[t("li",[s._v("在game中通过键盘控制蛇的移动方向")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("bindKey")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".addEventListener("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'keydown'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v(" (e.keyCode) {\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("37")]),s._v(":\n       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// left")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'left'")]),s._v(";\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("38")]),s._v(":\n       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// top")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'top'")]),s._v(";\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("39")]),s._v(":\n       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// right")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(";\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(":\n       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// bottom")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bottom'")]),s._v(";\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   }\n }.bind(that), "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(");\n}\n")])]),t("ul",[t("li",[s._v("在start方法中调用")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("bindKey();\n")])]),t("h4",[s._v("判断蛇是否吃到食物")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在Snake的move方法中")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在移动的过程中判断蛇是否吃到食物")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果蛇头和食物的位置重合代表吃到食物")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 食物的坐标是像素，蛇的坐标是几个宽度，进行转换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" headX = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].x * "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width;\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" headY = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].y * "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height;\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (headX === food.x && headY === food.y) {\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 吃到食物，往蛇节的最后加一节")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" last = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.length - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("];\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.push({\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": last.x,\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": last.y,\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": last.color\n })\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 把现在的食物对象删除，并重新随机渲染一个食物对象")]),s._v("\n food.render(map);\n}\n")])]),t("h3",[s._v("其它处理")]),t("h4",[s._v("把html中的js代码放到index.js中")]),t("p",[s._v("避免html中出现js代码")]),t("h4",[s._v("自调用函数的参数")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("window, undefined")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".document;\n\n}("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("))\n")])]),t("ul",[t("li",[s._v("传入window对象\n将来代码压缩的时候，可以吧 function (window)  压缩成 function (w)")]),t("li",[s._v("传入undefined\n在将来会看到别人写的代码中会把undefined作为函数的参数(当前案例没有使用)\n因为在有的老版本的浏览器中 undefined可以被重新赋值，防止undefined 被重新赋值")])]),t("h4",[s._v("整理代码")]),t("p",[s._v("现在的代码结构清晰，谁出问题就找到对应的js文件即可。\n通过自调用函数，已经防止了变量命名污染的问题")]),t("p",[s._v("但是，由于js文件数较多，需要在页面上引用，会产生文件依赖的问题(先引入那个js，再引入哪个js)\n将来通过工具把js文件合并并压缩。现在手工合并js文件演示")]),t("ul",[t("li",[s._v("问题1")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果存在多个自调用函数要用分号分割，否则语法错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 下面代码会报错")]),s._v("\n("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n\n("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 所以代码规范中会建议在自调用函数之前加上分号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 下面代码没有问题")]),s._v("\n;("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n\n;("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n")])]),t("ul",[t("li",[s._v("问题2")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当自调用函数 前面有函数声明时，会把自调用函数作为参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 所以建议自调用函数前，加上;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n alert("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'11'")]),s._v(");\n}\n\n("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n alert("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'22'")]),s._v(");\n}())\n")])]),t("hr"),t("h2",[s._v("继承")]),t("h3",[s._v("什么是继承")]),t("ul",[t("li",[s._v("现实生活中的继承")]),t("li",[s._v("程序中的继承")])]),t("h3",[s._v("构造函数的属性继承：借用构造函数")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 借用构造函数继承属性成员")]),s._v("\n Person.call("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", name, age)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s1 = Student("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'张三'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(s1.type, s1.name, s1.age) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => human 张三 18")]),s._v("\n")])]),t("h3",[s._v("构造函数的原型方法继承：拷贝继承（for-in）")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype.sayName = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n Person.call("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", name, age)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 原型对象拷贝继承原型对象成员")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" key "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" Person.prototype) {\n Student.prototype[key] = Person.prototype[key]\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s1 = Student("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'张三'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n\ns1.sayName() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => hello 张三")]),s._v("\n")])]),t("h3",[s._v("另一种继承方式：原型继承")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype.sayName = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n Person.call("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", name, age)\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 利用原型的特性实现继承")]),s._v("\nStudent.prototype = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person()\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s1 = Student("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'张三'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(s1.type) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => human")]),s._v("\n\ns1.sayName() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => hello 张三")]),s._v("\n")])]),t("hr"),t("h2",[s._v("函数进阶")]),t("h3",[s._v("函数的定义方式")]),t("ul",[t("li",[s._v("函数声明")]),t("li",[s._v("函数表达式")]),t("li",[t("code",{pre:!0},[s._v("new Function")])])]),t("h4",[s._v("函数声明")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("foo")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\n}\n")])]),t("h4",[s._v("函数表达式")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\n}\n")])]),t("h4",[s._v("函数声明与函数表达式的区别")]),t("ul",[t("li",[s._v("函数声明必须有名字")]),t("li",[s._v("函数声明会函数提升，在预解析阶段就已创建，声明前后都可以调用")]),t("li",[s._v("函数表达式类似于变量赋值")]),t("li",[s._v("函数表达式可以没有名字，例如匿名函数")]),t("li",[s._v("函数表达式没有变量提升，在执行阶段创建，必须在表达式执行之后才可以调用")])]),t("p",[s._v("下面是一个根据条件定义函数的例子：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n }\n} "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")\n }\n}\n")])]),t("p",[s._v("以上代码执行结果在不同浏览器中结果不一致。\n不过我们可以使用函数表达式解决上面的问题：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" f\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n f = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n }\n} "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n f = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")\n }\n}\n")])]),t("h3",[s._v("函数的调用方式")]),t("ul",[t("li",[s._v("普通函数")]),t("li",[s._v("构造函数")]),t("li",[s._v("对象方法")])]),t("h3",[s._v("函数内 "),t("code",{pre:!0},[s._v("this")]),s._v(" 指向的不同场景")]),t("p",[s._v("函数的调用方式决定了 "),t("code",{pre:!0},[s._v("this")]),s._v(" 指向的不同：")]),t("div",{staticClass:"hv-snippet--table"},[t("table",[t("thead",[t("tr",[t("th",[s._v("调用方式")]),t("th",[s._v("非严格模式")]),t("th",[s._v("备注")])])]),t("tbody",[t("tr",[t("td",[s._v("普通函数调用")]),t("td",[s._v("window")]),t("td",[s._v("严格模式下是 undefined")])]),t("tr",[t("td",[s._v("构造函数调用")]),t("td",[s._v("实例对象")]),t("td",[s._v("原型方法中 this 也是实例对象")])]),t("tr",[t("td",[s._v("对象方法调用")]),t("td",[s._v("该方法所属对象")]),t("td",[s._v("紧挨着的对象")])]),t("tr",[t("td",[s._v("事件绑定方法")]),t("td",[s._v("绑定事件对象")]),t("td")]),t("tr",[t("td",[s._v("定时器函数")]),t("td",[s._v("window")]),t("td")])])])]),t("p",[s._v("这就是对函数内部 this 指向的基本整理，写代码写多了自然而然就熟悉了。")]),t("h3",[s._v("函数也是对象")]),t("ul",[t("li",[s._v("所有函数都是 "),t("code",{pre:!0},[s._v("Function")]),s._v(" 的实例")])]),t("h3",[s._v("call、apply、bind")]),t("p",[s._v("那了解了函数 this 指向的不同场景之后，我们知道有些情况下我们为了使用某种特定环境的 this 引用，\n这时候时候我们就需要采用一些特殊手段来处理了，例如我们经常在定时器外部备份 this 引用，然后在定时器函数内部使用外部 this 的引用。\n然而实际上对于这种做法我们的 JavaScript 为我们专门提供了一些函数方法用来帮我们更优雅的处理函数内部 this 指向问题。\n这就是接下来我们要学习的 call、apply、bind 三个函数方法。")]),t("h4",[s._v("call")]),t("p",[t("code",{pre:!0},[s._v("call()")]),s._v(" 方法调用一个函数, 其具有一个指定的 "),t("code",{pre:!0},[s._v("this")]),s._v(" 值和分别地提供的参数(参数的列表)。")]),t("p",{staticClass:"danger"},[s._v("\n  注意：该方法的作用和 `apply()` 方法类似，只有一个区别，就是 `call()` 方法接受的是若干个参数的列表，而 `apply()` 方法接受的是一个包含多个参数的数组。\n")]),t("p",[s._v("语法：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.call(thisArg[, arg1[, arg2[, ...]]])\n")])]),t("p",[s._v("参数：")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("thisArg")]),s._v("\n在 fun 函数运行时指定的 this 值\n如果指定了 null 或者 undefined 则内部 this 指向 window")]),t("li",[t("code",{pre:!0},[s._v("arg1, arg2, ...")]),s._v("\n指定的参数列表")])]),t("h4",[s._v("apply")]),t("p",[t("code",{pre:!0},[s._v("apply()")]),s._v(" 方法调用一个函数, 其具有一个指定的 "),t("code",{pre:!0},[s._v("this")]),s._v(" 值，以及作为一个数组（或类似数组的对象）提供的参数。")]),t("p",{staticClass:"danger"},[s._v("\n  注意：该方法的作用和 `call()` 方法类似，只有一个区别，就是 `call()` 方法接受的是若干个参数的列表，而 `apply()` 方法接受的是一个包含多个参数的数组。\n")]),t("p",[s._v("语法：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.apply(thisArg, [argsArray])\n")])]),t("p",[s._v("参数：")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("thisArg")])]),t("li",[t("code",{pre:!0},[s._v("argsArray")])])]),t("p",[t("code",{pre:!0},[s._v("apply()")]),s._v(" 与 "),t("code",{pre:!0},[s._v("call()")]),s._v(" 非常相似，不同之处在于提供参数的方式。\n"),t("code",{pre:!0},[s._v("apply()")]),s._v(" 使用参数数组而不是一组参数列表。例如：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.apply("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'eat'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bananas'")]),s._v("])\n")])]),t("h4",[s._v("bind")]),t("p",[s._v("bind() 函数会创建一个新函数（称为绑定函数），新函数与被调函数（绑定函数的目标函数）具有相同的函数体（在 ECMAScript 5 规范中内置的call属性）。\n当目标函数被调用时 this 值绑定到 bind() 的第一个参数，该参数不能被重写。绑定函数被调用时，bind() 也接受预设的参数提供给原函数。\n一个绑定函数也能使用new操作符创建对象：这种行为就像把原函数当成构造器。提供的 this 值被忽略，同时调用时的参数被提供给模拟函数。")]),t("p",[s._v("语法：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.bind(thisArg[, arg1[, arg2[, ...]]])\n")])]),t("p",[s._v("参数：")]),t("ul",[t("li",[s._v("thisArg\n当绑定函数被调用时，该参数会作为原函数运行时的 this 指向。当使用new 操作符调用绑定函数时，该参数无效。")]),t("li",[s._v("arg1, arg2, ...\n当绑定函数被调用时，这些参数将置于实参之前传递给被绑定的方法。\n返回值：\n返回由指定的this值和初始化参数改造的原函数拷贝。\n示例1：")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(" = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("81")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getX")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{ "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x; }\n};\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".getX(); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回 81")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" retrieveX = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".getX;\nretrieveX(); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// 返回 9, 在这种情况下，"this"指向全局作用域')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// 创建一个新函数，将"this"绑定到module对象')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 新手可能会被全局的x变量和module里的属性x所迷惑")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" boundGetX = retrieveX.bind("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(");\nboundGetX(); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回 81")]),s._v("\n")])]),t("p",[s._v("示例2：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("LateBloomer")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".petalCount = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".ceil("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() * "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(") + "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Declare bloom after a delay of 1 second")]),s._v("\nLateBloomer.prototype.bloom = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".setTimeout("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".declare.bind("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("), "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(");\n};\n\nLateBloomer.prototype.declare = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'I am a beautiful flower with '")]),s._v(" +\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".petalCount + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("' petals!'")]),s._v(");\n};\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" flower = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" LateBloomer();\nflower.bloom();  "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 一秒钟后, 调用'declare'方法")]),s._v("\n")])]),t("h4",[s._v("小结")]),t("ul",[t("li",[t("p",[s._v("call 和 apply 特性一样\n都是用来调用函数，而且是立即调用\n但是可以在调用函数的同时，通过第一个参数指定函数内部 "),t("code",{pre:!0},[s._v("this")]),s._v(" 的指向\ncall 调用的时候，参数必须以参数列表的形式进行传递，也就是以逗号分隔的方式依次传递即可\napply 调用的时候，参数必须是一个数组，然后在执行的时候，会将数组内部的元素一个一个拿出来，与形参一一对应进行传递\n如果第一个参数指定了 "),t("code",{pre:!0},[s._v("null")]),s._v(" 或者 "),t("code",{pre:!0},[s._v("undefined")]),s._v(" 则内部 this 指向 window")])]),t("li",[t("p",[s._v("bind\n可以用来指定内部 this 的指向，然后生成一个改变了 this 指向的新的函数\n它和 call、apply 最大的区别是：bind 不会调用\nbind 支持传递参数，它的传参方式比较特殊，一共有两个位置可以传递")]),t("ol",[t("li",[s._v("在 bind 的同时，以参数列表的形式进行传递")]),t("li",[s._v("在调用的时候，以参数列表的形式进行传递\n那到底以谁 bind 的时候传递的参数为准呢还是以调用的时候传递的参数为准\n两者合并：bind 的时候传递的参数和调用的时候传递的参数会合并到一起，传递到函数内部")])])])]),t("h3",[s._v("函数的其它成员")]),t("ul",[t("li",[s._v("arguments: 实参集合")]),t("li",[s._v("caller: 函数的调用者")]),t("li",[s._v("length:形参的个数")]),t("li",[s._v("name: 函数的名称")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x, y, z")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fn.length) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 形参的个数")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(") "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 伪数组实参参数集合")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(".callee === fn) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 函数本身")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fn.caller) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 函数的调用者")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fn.name) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 函数的名字")]),s._v("\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n fn("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v(")\n}\n\nf()\n")])]),t("h3",[s._v("高阶函数")]),t("ul",[t("li",[s._v("函数可以作为参数")]),t("li",[s._v("函数可以作为返回值")])]),t("h4",[s._v("作为参数")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("eat")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("callback")]),s._v(") ")]),s._v("{\n setTimeout("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'吃完了'")]),s._v(")\n   callback()\n }, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(")\n}\n\neat("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'去唱歌'")]),s._v(")\n})\n")])]),t("h4",[s._v("作为返回值")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("genFun")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("type")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj")]),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".prototype.toString.call(obj) === type\n }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" isArray = genFun("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'[object Array]'")]),s._v(")\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" isObject = genFun("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'[object Object]'")]),s._v(")\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(isArray([])) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(isArray({})) "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),t("h3",[s._v("函数闭包")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" count = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getCount")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(count)\n   },\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("setCount")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     count++\n   }\n }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" fns = fn()\n\nfns.getCount() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 0")]),s._v("\nfns.setCount()\nfns.getCount() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 1")]),s._v("\n")])]),t("h4",[s._v("作用域、作用域链、预解析")]),t("ul",[t("li",[s._v("全局作用域")]),t("li",[s._v("函数作用域")]),t("li",[t("strong",[s._v("没有块级作用域")])])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v("\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(foo)\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v("\n}\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a)\n")])]),t("p",[s._v("作用域链示例代码：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" b = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("\n\n "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn1")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" c = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a + b + c)\n }\n\n "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn2")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" d = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(c + d)\n }\n\n fn1()\n fn2()\n}\n")])]),t("ul",[t("li",[s._v("内层作用域可以访问外层作用域，反之不行")])]),t("h4",[s._v("什么是闭包")]),t("p",[s._v("闭包就是能够读取其他函数内部变量的函数，\n由于在 Javascript 语言中，只有函数内部的子函数才能读取局部变量，\n因此可以把闭包简单理解成 “定义在一个函数内部的函数”。\n所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。\n闭包的用途：")]),t("ul",[t("li",[s._v("可以在函数外部读取函数内部成员")]),t("li",[s._v("让函数内成员始终存活在内存中")])]),t("h4",[s._v("一些关于闭包的例子")]),t("p",[s._v("示例1：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" arr = ["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("]\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < arr.length; i++) {\n arr[i] = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(i)\n }\n}\n")])]),t("p",[s._v("示例2：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("111")]),s._v(")\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("; i++) {\n setTimeout("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(i)\n }, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")\n}\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("222")]),s._v(")\n")])]),t("h4",[s._v("闭包的思考题")]),t("p",[s._v("思考题 1：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" name = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"The Window"')]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" object = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"My Object"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getNameFunc")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name;\n   };\n }\n};\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(object.getNameFunc()())\n")])]),t("p",[s._v("思考题 2：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" name = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"The Window"')]),s._v(";　　\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" object = {\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"My Object"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getNameFunc")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" that = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(";\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" that.name;\n   };\n }\n};\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(object.getNameFunc()())\n")])]),t("h3",[s._v("函数递归")]),t("h4",[s._v("递归执行模型")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn1")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("111")]),s._v(")\n fn2()\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn1'")]),s._v(")\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn2")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("222")]),s._v(")\n fn3()\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn2'")]),s._v(")\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn3")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("333")]),s._v(")\n fn4()\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn3'")]),s._v(")\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn4")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("444")]),s._v(")\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn4'")]),s._v(")\n}\n\nfn1()\n")])]),t("h4",[s._v("举个栗子：计算阶乘的递归函数")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("factorial")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("num")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (num <= "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" num * factorial(num - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n }\n}\n")])]),t("h2",[s._v("正则表达式")]),t("ul",[t("li",[s._v("了解正则表达式基本语法")]),t("li",[s._v("能够使用JavaScript的正则对象")])]),t("h3",[s._v("正则表达式简介")]),t("h4",[s._v("什么是正则表达式")]),t("p",[s._v("正则表达式：用于匹配规律规则的表达式，正则表达式最初是科学家对人类神经系统的工作原理的早期研究，现在在编程语言中有广泛的应用。正则表通常被用来检索、替换那些符合某个模式(规则)的文本。\n正则表达式是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。")]),t("h4",[s._v("正则表达式的作用")]),t("ol",[t("li",[s._v("给定的字符串是否符合正则表达式的过滤逻辑(匹配)")]),t("li",[s._v("可以通过正则表达式，从字符串中获取我们想要的特定部分(提取)")]),t("li",[s._v("强大的字符串替换能力(替换)")])]),t("h4",[s._v("正则表达式的特点")]),t("ol",[t("li",[s._v("灵活性、逻辑性和功能性非常的强")]),t("li",[s._v("可以迅速地用极简单的方式达到字符串的复杂控制")]),t("li",[s._v("对于刚接触的人来说，比较晦涩难懂")])]),t("h3",[s._v("正则表达式的测试")]),t("ul",[t("li",[t("a",{attrs:{href:"https://c.runoob.com/front-end/854"}},[s._v("在线测试正则")])]),t("li",[s._v("工具中使用正则表达式：sublime/vscode/word、 演示替换所有的数字")])]),t("h3",[s._v("正则表达式的组成")]),t("ul",[t("li",[s._v("普通字符")]),t("li",[s._v("特殊字符(元字符)：正则表达式中有特殊意义的字符")])]),t("p",[s._v("示例演示：")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("\\d")]),s._v(" 匹配数字")]),t("li",[t("code",{pre:!0},[s._v("ab\\d")]),s._v(" 匹配 ab1、ab2")])]),t("h3",[s._v("元字符串")]),t("p",[s._v("通过测试工具演示下面元字符的使用")]),t("h4",[s._v("常用元字符串")]),t("div",{staticClass:"hv-snippet--table"},[t("table",[t("thead",[t("tr",[t("th",[s._v("元字符")]),t("th",[s._v("说明")])])]),t("tbody",[t("tr",[t("td",[s._v("\\d")]),t("td",[s._v("匹配数字")])]),t("tr",[t("td",[s._v("\\D")]),t("td",[s._v("匹配任意非数字的字符")])]),t("tr",[t("td",[s._v("\\w")]),t("td",[s._v("匹配字母或数字或下划线")])]),t("tr",[t("td",[s._v("\\W")]),t("td",[s._v("匹配任意不是字母，数字，下划线")])]),t("tr",[t("td",[s._v("\\s")]),t("td",[s._v("匹配任意的空白符")])]),t("tr",[t("td",[s._v("\\S")]),t("td",[s._v("匹配任意不是空白符的字符")])]),t("tr",[t("td",[s._v(".")]),t("td",[s._v("匹配除换行符以外的任意单个字符")])]),t("tr",[t("td",[s._v("^")]),t("td",[s._v("表示匹配行首的文本(以谁开始)")])]),t("tr",[t("td",[s._v("$")]),t("td",[s._v("表示匹配行尾的文本(以谁结束)")])])])])]),t("h4",[s._v("限定符")]),t("div",{staticClass:"hv-snippet--table"},[t("table",[t("thead",[t("tr",[t("th",[s._v("限定符")]),t("th",[s._v("说明")])])]),t("tbody",[t("tr",[t("td",[s._v("*")]),t("td",[s._v("重复零次或更多次")])]),t("tr",[t("td",[s._v("+")]),t("td",[s._v("重复一次或更多次")])]),t("tr",[t("td",[s._v("?")]),t("td",[s._v("重复零次或一次")])]),t("tr",[t("td",[s._v("{n}")]),t("td",[s._v("重复n次")])]),t("tr",[t("td",[s._v("{n,}")]),t("td",[s._v("重复n次或更多次")])]),t("tr",[t("td",[s._v("{n,m}")]),t("td",[s._v("重复n到m次")])])])])]),t("h4",[s._v("其它")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("[] 字符串用中括号括起来，表示匹配其中的任一字符，相当于或的意思\n[^]  匹配除中括号以内的内容\n\\ 转义符\n| 或者，选择两者中的一个。注意|将左右两边分为两部分，而不管左右两边有多长多乱\n() 从两个直接量中选择一个，分组\n  eg：gr(a|e)y匹配gray和grey\n[\\u4e00-\\u9fa5]  匹配汉字\n")])]),t("h3",[s._v("正则表达式案例")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证手机号：")]),s._v("\n^\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("11")]),s._v("}$\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证邮编：")]),s._v("\n^\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v("}$\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证日期 2012-5-01")]),s._v("\n^\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("}-\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("}-\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("}$\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证邮箱 xxx@itcast.cn：")]),s._v("\n^\\w+@\\w+\\.\\w+$\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证IP地址 192.168.1.10")]),s._v("\n^\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("}\\(.\\d{"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("}){"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("}$\n")])]),t("h2",[s._v("JavaScript 中使用正则表达式")]),t("h3",[s._v("创建正则对象")]),t("p",[s._v("方式：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Regex("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'\\d'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'i'")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Regex("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'\\d'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'gi'")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\d/i")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\d/gi")]),s._v(";\n")])]),t("h4",[s._v("参数")]),t("div",{staticClass:"hv-snippet--table"},[t("table",[t("thead",[t("tr",[t("th",[s._v("标志")]),t("th",[s._v("说明")])])]),t("tbody",[t("tr",[t("td",[s._v("i")]),t("td",[s._v("忽略大小写")])]),t("tr",[t("td",[s._v("g")]),t("td",[s._v("全局匹配")])]),t("tr",[t("td",[s._v("gi")]),t("td",[s._v("全局匹配+忽略大小写")])])])])]),t("h3",[s._v("正则匹配")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 匹配日期")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" dateStr = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'2015-10-10'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{4}-\\d{1,2}-\\d{1,2}$/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(reg.test(dateStr));\n")])]),t("h3",[s._v("匹配正则表达式")]),t("p",[s._v('//        console.log(/./.test("除了回车换行以为的任意字符"));//true\n//        console.log(/.'),t("em",[s._v('/.test("0个到多个"));//true\n//        console.log(/.+/.test("1个到多个"));//true\n//        console.log(/.?/.test("哈哈"));//true\n//        console.log(/[0-9]/.test("9527"));//true\n//        console.log(/[a-z]/.test("what"));//true\n//        console.log(/[A-Z]/.test("Are"));//true\n//        console.log(/[a-zA-Z]/.test("干啥子"));//false\n//        console.log(/[0-9a-zA-Z]/.test("9ebg"));//true\n//        console.log(/b|(ara)/.test("abra"));//true\n//        console.log(/[a-z]{2,3}/.test("arfsf"));//true\nconsole.log(/\\d/.test("998"));//true\nconsole.log(/\\d')]),s._v('/.test("998"));//true\nconsole.log(/\\d+/.test("998"));//true\nconsole.log(/\\d{0,}/.test("998"));//true\nconsole.log(/\\d{2,3}/.test("998"));//true\nconsole.log(/\\D/.test("eat"));//true\nconsole.log(/\\s/.test("  "));//true\nconsole.log(/\\S/.test("嘎嘎"));//true\nconsole.log(/\\w/.test("'),t("em",[s._v('"));//true\nconsole.log(/\\W/.test("')]),s._v('"));//true')]),t("h3",[s._v("正则表达式具体案例")]),t("p",[s._v("1.验证密码强弱\n2.验证邮箱：[0-9a-zA-Z_.-]+["),t("strong",[s._v("at")]),s._v("][0-9a-zA-Z._-]+([.][a-zA-Z]+){1,2}\n3.验证中文名字[\\u4e00-\\u9fa5]")]),t("h3",[s._v("正则提取")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1. 提取工资")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"张三：1000，李四：5000，王五：8000。"')]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" array = str.match("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\d+/g")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(array);\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2. 提取email地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"123123@xx.com,fangfang@valuedopinions.cn 286669312@qq.com 2、emailenglish@emailenglish.englishtown.com 286669312@qq.com..."')]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" array = str.match("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\w+@\\w+\\.\\w+(\\.\\w+)?/g")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(array);\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 3. 分组提取  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 3. 提取日期中的年部分  2015-5-10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" dateStr = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'2016-1-5'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 正则表达式中的()作为分组来使用，获取分组匹配到的结果用Regex.$1 $2 $3....来获取")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/(\\d{4})-\\d{1,2}-\\d{1,2}/")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (reg.test(dateStr)) {\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 4. 提取邮件中的每一部分")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/(\\w+)@(\\w+)\\.(\\w+)(\\.\\w+)?/")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"123123@xx.com"')]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (reg.test(str)) {\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(");\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(");\n}\n")])]),t("h3",[s._v("正则替换")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1. 替换所有空白")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"   123AD  asadf   asadfasf  adf "')]),s._v(";\nstr = str.replace("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\s/g")]),s._v(","),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"xx"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(str);\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2. 替换所有,|，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"abc,efg,123，abc,123，a"')]),s._v(";\nstr = str.replace("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/,|，/g")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"."')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(str);\n")])]),t("h3",[s._v("案例：表单验证")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("QQ号："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtQQ"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n邮箱："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtEMail"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n手机："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtPhone"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n生日："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtBirthday"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n姓名："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtName"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取文本框")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" txtQQ = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtQQ"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" txtEMail = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtEMail"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" txtPhone = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtPhone"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" txtBirthday = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtBirthday"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" txtName = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtName"')]),s._v(");\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\ntxtQQ.onblur = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取当前文本框对应的span")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" span = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".nextElementSibling;\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{5,12}$/")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//判断验证是否成功")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!reg.test("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value) ){\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证不成功")]),s._v("\n   span.innerText = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的QQ号"')]),s._v(";\n   span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"red"')]),s._v(";\n }"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证成功")]),s._v("\n   span.innerText = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n   span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n }\n};\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//txtEMail")]),s._v("\ntxtEMail.onblur = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取当前文本框对应的span")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" span = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".nextElementSibling;\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\w+@\\w+\\.\\w+(\\.\\w+)?$/")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//判断验证是否成功")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!reg.test("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value) ){\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证不成功")]),s._v("\n   span.innerText = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的EMail地址"')]),s._v(";\n   span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"red"')]),s._v(";\n }"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证成功")]),s._v("\n   span.innerText = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n   span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n }\n};\n")])]),t("p",[s._v("表单验证部分，封装成函数：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" regBirthday = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{4}-\\d{1,2}-\\d{1,2}$/")]),s._v(";\naddCheck(txtBirthday, regBirthday, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的出生日期"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//给文本框添加验证")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("addCheck")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("element, reg, tip")]),s._v(") ")]),s._v("{\n element.onblur = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取当前文本框对应的span")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" span = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".nextElementSibling;\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//判断验证是否成功")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!reg.test("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value) ){\n     "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证不成功")]),s._v("\n     span.innerText = tip;\n     span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"red"')]),s._v(";\n   }"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n     "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证成功")]),s._v("\n     span.innerText = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n     span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n   }\n };\n}\n")])]),t("p",[s._v("通过给元素增加自定义验证属性对表单进行验证：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"frm"')]),s._v(">")]),s._v("\n QQ号："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtQQ"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-rule")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"qq"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n 邮箱："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtEMail"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-rule")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"email"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n 手机："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtPhone"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-rule")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"phone"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n 生日："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtBirthday"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-rule")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"date"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n 姓名："),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"txtName"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-rule")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cn"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n")])]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 所有的验证规则")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" rules = [\n {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qq'")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("reg")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{5,12}$/")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tip")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的QQ"')]),s._v("\n },\n {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("reg")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\w+@\\w+\\.\\w+(\\.\\w+)?$/")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tip")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的邮箱地址"')]),s._v("\n },\n {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'phone'")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("reg")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{11}$/")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tip")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的手机号码"')]),s._v("\n },\n {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'date'")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("reg")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{4}-\\d{1,2}-\\d{1,2}$/")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tip")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的出生日期"')]),s._v("\n },\n {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'cn'")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("reg")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^[\\u4e00-\\u9fa5]{2,4}$/")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tip")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入正确的姓名"')]),s._v("\n }];\n\naddCheck("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'frm'")]),s._v(");\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//给文本框添加验证")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("addCheck")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("formId")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n     len = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n     frm ="),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById(formId);\n len = frm.children.length;\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" (; i < len; i++) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" element = frm.children[i];\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 表单元素中有name属性的元素添加验证")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (element.name) {\n     element.onblur = "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 使用dataset获取data-自定义属性的值")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" ruleName = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".dataset.rule;\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" rule =getRuleByRuleName(rules, ruleName);\n\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" span = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".nextElementSibling;\n       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//判断验证是否成功")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!rule.reg.test("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value) ){\n         "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证不成功")]),s._v("\n         span.innerText = rule.tip;\n         span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"red"')]),s._v(";\n       }"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n         "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证成功")]),s._v("\n         span.innerText = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n         span.style.color = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(";\n       }\n     }\n   }\n }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 根据规则的名称获取规则对象")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getRuleByRuleName")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("rules, ruleName")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n     len = rules.length;\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" rule = "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" (; i < len; i++) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (rules[i].name == ruleName) {\n     rule = rules[i];\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   }\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" rule;\n}\n")])]),t("h2",[s._v("补充")]),t("h3",[s._v("伪数组和数组")]),t("p",[s._v("在JavaScript中，除了5种原始数据类型之外，其他所有的都是对象，包括函数（Function）。")]),t("h4",[s._v("对象与数组的关系")]),t("p",[s._v("在说区别之前，需要先提到另外一个知识，就是 JavaScript 的原型继承。\n所有 JavaScript 的内置构造函数都是继承自 "),t("code",{pre:!0},[s._v("Object.prototype")]),s._v(" 。\n在这个前提下，可以理解为使用 "),t("code",{pre:!0},[s._v("new Array()")]),s._v(" 或 "),t("code",{pre:!0},[s._v("[]")]),s._v(" 创建出来的数组对象，都会拥有 "),t("code",{pre:!0},[s._v("Object.prototype")]),s._v(" 的属性值。")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" obj = {};"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 拥有 Object.prototype 的属性值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" arr = [];\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//使用数组直接量创建的数组，由于 Array.prototype 的属性继承自 Object.prototype，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//那么，它将同时拥有 Array.prototype 和 Object.prototype 的属性值")]),s._v("\n")])]),t("p",[s._v("可以得到对象和数组的第一个区别：对象没有数组 Array.prototype 的属性值。")]),t("h4",[s._v("什么是数组")]),t("p",[s._v("数组具有一个最基本特征：索引，这是对象所没有的，下面来看一段代码：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" obj = {};\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" arr = [];\nobj["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("] = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'a'")]),s._v(";\narr["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("] = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'a'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(obj["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("]); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(arr["),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("]); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(obj.length); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => undefined")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(arr.length); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 3")]),s._v("\n")])]),t("ul",[t("li",[s._v("obj[2]输出'a'，是因为对象就是普通的键值对存取数据")]),t("li",[s._v("而arr[2]输出'a' 则不同，数组是通过索引来存取数据，arr[2]之所以输出'a'，是因为数组arr索引2的位置已经存储了数据")]),t("li",[s._v("obj.length并不具有数组的特性，并且obj没有保存属性length，那么自然就会输出undefined")]),t("li",[s._v("而对于数组来说，length是数组的一个内置属性，数组会根据索引长度来更改length的值")]),t("li",[s._v("为什么arr.length输出3，而不是1\n在给数组添加元素时，并没有按照连续的索引添加，所以导致数组的索引不连续，那么就导致索引长度大于元素个数")])]),t("h4",[s._v("什么是伪数组")]),t("ol",[t("li",[s._v("拥有 length 属性，其它属性（索引）为非负整数(对象中的索引会被当做字符串来处理，这里你可以当做是个非负整数串来理解)")]),t("li",[s._v("不具有数组所具有的方法")])]),t("p",[s._v("伪数组，就是像数组一样有 "),t("code",{pre:!0},[s._v("length")]),s._v(" 属性，也有 "),t("code",{pre:!0},[s._v("0、1、2、3")]),s._v(" 等属性的对象，看起来就像数组一样，但不是数组，比如:")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" fakeArray = {\n "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"0"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"first"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"1"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"second"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"2"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"third"')]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("length")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\n};\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < fakeArray.length; i++) {\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fakeArray[i]);\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype.join.call(fakeArray,"),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'+'")]),s._v(");\n")])]),t("p",[s._v("常见的伪数组有：")]),t("ul",[t("li",[s._v("函数内部的 "),t("code",{pre:!0},[s._v("arguments")])]),t("li",[s._v("DOM 对象列表（比如通过 "),t("code",{pre:!0},[s._v("document.getElementsByTags")]),s._v(" 得到的列表）")]),t("li",[s._v("jQuery 对象（比如 "),t("code",{pre:!0},[s._v('$("div")')]),s._v(" ）")])]),t("p",[s._v("伪数组是一个 Object，而真实的数组是一个 Array。\n伪数组存在的意义，是可以让普通的对象也能正常使用数组的很多方法，比如：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" arr = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype.slice.call("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(");\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype.forEach.call("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("v")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 循环arguments对象")]),s._v("\n});\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// push")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// some")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// every")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// filter")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// map")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ...")]),s._v("\n")])]),t("p",[s._v("以上在借用数组的原型方法的时候都可以通过数组直接量来简化使用：")]),t("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" obj = {\n "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'a'")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'b'")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'c'")]),s._v(",\n "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("length")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\n}\n\n;[].push.call(obj, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'d'")]),s._v(")\n\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log([].slice.call(obj))\n\n;[].forEach.call(obj, "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("num, index")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(num)\n})\n")])]),t("h4",[s._v("伪数组和数组小结")]),t("ul",[t("li",[s._v("对象没有数组 Array.prototype 的属性值，类型是 Object ，而数组类型是 Array")]),t("li",[s._v("数组是基于索引的实现， length 会自动更新，而对象是键值对")]),t("li",[s._v("使用对象可以创建伪数组，伪数组可以正常使用数组的大部分方法")])]),t("h3",[s._v("JavaScript 垃圾回收机制")]),t("h3",[s._v("JavaScript 运行机制：Event Loop")]),t("h3",[s._v("Object")]),t("h4",[s._v("静态成员")]),t("ul",[t("li",[s._v("Object.assign()")]),t("li",[s._v("Object.create()")]),t("li",[s._v("Object.keys()")]),t("li",[s._v("Object.defineProperty()")])]),t("h4",[s._v("实例成员")]),t("ul",[t("li",[s._v("constructor")]),t("li",[s._v("hasOwnProperty()")]),t("li",[s._v("isPrototypeOf")]),t("li",[s._v("propertyIsEnumerable()")]),t("li",[s._v("toString()")]),t("li",[s._v("valueOf()")])]),t("hr"),t("h2",[s._v("附录")]),t("h3",[s._v("A 代码规范")]),t("h4",[s._v("代码风格")]),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/feross/standard"}},[s._v("JavaScript Standard Style")])]),t("li",[t("a",{attrs:{href:"https://github.com/airbnb/javascript"}},[s._v("Airbnb JavaScript Style Guide()")])])]),t("h4",[s._v("校验工具")]),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/douglascrockford/JSLint"}},[s._v("JSLint")])]),t("li",[t("a",{attrs:{href:"https://github.com/jshint/jshint"}},[s._v("JSHint")])]),t("li",[t("a",{attrs:{href:"https://github.com/eslint/eslint"}},[s._v("ESLint")])])]),t("h3",[s._v("B Chrome 开发者工具")]),t("h3",[s._v("C 文档相关工具")]),t("ul",[t("li",[s._v("电子文档制作工具: "),t("a",{attrs:{href:"https://github.com/egoist/docute"}},[s._v("docute")])]),t("li",[s._v("流程图工具："),t("a",{attrs:{href:"http://logicnet.dk/DiagramDesigner/"}},[s._v("DiagramDesigner")])])])])}],e=t("2877"),p={},l=Object(e["a"])(p,r,n,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d21aaeb.7d9bb61b.js.map