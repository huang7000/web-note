(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20f319"],{b31c:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("hr"),a("p",[s._v("学习目标:")]),s._m(0),a("h2",[s._v("typora-copy-images-to media/06JavaScriptProfessional")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("JavaScript 高级")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("课程介绍")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("目标")])]),a("ul",[a("li",[s._v("理解面向对象开发思想")]),a("li",[s._v("掌握 JavaScript 面向对象开发相关模式")]),a("li",[s._v("掌握在 JavaScript 中使用正则表达式")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("基本概念复习")])]),a("blockquote",[a("p",[s._v("由于 JavaScript 高级还是针对 JavaScript 语言本身的一个进阶学习，所以在开始之前我们先对以前所学过的 JavaScript 相关知识点做一个快速复习总结。")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("重新介绍 JavaScript")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("JavaScript 是什么")])]),a("ul",[a("li",[s._v("解析执行：轻量级解释型的，或是 JIT 编译型的程序设计语言")]),a("li",[s._v("语言特点：动态，头等函数 (First-class Function) 又称函数是 JavaScript 中的一等公民")]),a("li",[s._v("执行环境：在宿主环境（host environment）下运行，浏览器是最常见的 JavaScript 宿主环境。但是在很多非浏览器环境中也使用 JavaScript ，例如 node.js")]),a("li",[s._v("编程范式：基于原型、多范式的动态脚本语言，并且支持面向对象、命令式和声明式（如：函数式编程）编程风格")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("JavaScript 的组成")])]),a("div",{staticClass:"hv-snippet--table"},[a("table",[a("thead",[a("tr",[a("th",[s._v("组成部分")]),a("th",[s._v("说明")])])]),a("tbody",[a("tr",[a("td",[s._v("Ecmascript")]),a("td",[s._v("描述了该语言的语法和基本对象")])]),a("tr",[a("td",[s._v("DOM")]),a("td",[s._v("描述了处理网页内容的方法和接口")])]),a("tr",[a("td",[s._v("BOM")]),a("td",[s._v("描述了与浏览器进行交互的方法和接口")])])])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("基本类型（值类型）")])]),a("ul",[a("li",[s._v("Undefined")]),a("li",[s._v("Null")]),a("li",[s._v("Boolean")]),a("li",[s._v("Number")]),a("li",[s._v("String")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("复杂类型（引用类型）")])]),a("ul",[a("li",[s._v("Object")]),a("li",[s._v("Array")]),a("li",[s._v("Date")]),a("li",[s._v("RegExp")]),a("li",[s._v("Function")]),a("li",[s._v("基本包装类型：Boolean、Number、String")]),a("li",[s._v("单体内置对象： Global、Math")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("类型检测")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("typeof")])]),a("li",[a("code",{pre:!0},[s._v("instanceof")])]),a("li",[a("code",{pre:!0},[s._v("Object.prototype.toString.call()")])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("值类型和引用类型")])]),a("ul",[a("li",[s._v("在内存中的存储方式\n值类型按值存储\n引用类型按引用存储")]),a("li",[s._v("复制"),a("br"),s._v("\n值类型按值复制\n引用类型按引用复制")]),a("li",[s._v("参数传递\n值类型按值传递\n引用类型按引用传递")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("值类型与引用类型的差别")])]),a("ul",[a("li",[s._v("基本类型在内存中占据固定大小的空间，因此被保存在栈内存中")]),a("li",[s._v("从一个变量向另一个变量复制基本类型的值，复制的是值的副本")]),a("li",[s._v("引用类型的值是对象，保存在堆内存")]),a("li",[s._v("包含引用类型值的变量实际上包含的并不是对象本身，而是一个指向该对象的指针")]),a("li",[s._v("从一个变量向另一个变量复制引用类型的值的时候，复制是引用指针，因此两个变量最终都指向同一个对象")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("JavaScript 执行过程")])]),a("p",[s._v("JavaScript 运行分为两个阶段：")]),a("ul",[a("li",[s._v("预解析\n全局预解析（所有变量和函数声明都会提前；同名的函数和变量函数的优先级高）\n函数内部预解析（所有的变量、函数和形参都会参与预解析）")]),a("li",[s._v("执行\n先预解析全局作用域，然后执行全局作用域中的代码，\n在执行全局代码的过程中遇到函数调用就会先进行函数预解析，然后再执行函数内代码。")])]),a("hr"),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("JavaScript 面向对象编程")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("面向对象介绍")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("什么是对象")])]),a("blockquote",[a("p",[s._v("Everything is object （万物皆对象）")])]),a("p",[a("strong",[s._v("(1) 对象是单个事物的抽象。")]),a("strong",[s._v("(2) 对象是一个容器，封装了属性（property）和方法（method）。")])]),a("p",[s._v("属性是对象的状态，方法是对象的行为（完成某种任务）。\n在实际开发中，对象是一个抽象的概念，可以将其简单理解为："),a("strong",[s._v("数据集或功能集")]),s._v("。\nECMAScript-262 把对象定义为："),a("strong",[s._v("无序属性的集合，其属性可以包含基本值、对象或者函数")]),s._v("。\n严格来讲，这就相当于说对象是一组没有特定顺序的值。对象的每个属性或方法都有一个名字，而每个名字都\n映射到一个值。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("什么是面向对象")])]),a("blockquote",[a("p",[s._v("面向对象是过程式代码的一种高度封装，目的在于提高代码的开发效率和可维护性。")])]),a("p",[a("img",{attrs:{src:"media/06JavaScriptProfessional/Object-Oriented.jpg",alt:"面向对象"}})]),a("p",[s._v("面向对象编程 —— Object Oriented Programming，简称 OOP ，是一种编程开发思想。\n它将真实世界各种复杂的关系，抽象为一个个对象，然后由对象之间的分工与合作，完成对真实世界的模拟。\n在面向对象程序开发思想中，每一个对象都是功能中心，具有明确分工，可以完成接受信息、处理数据、发出信息等任务。\n因此，面向对象编程具有灵活、代码可复用、高度模块化等特点，容易维护和开发，比起由一系列函数或指令组成的传统的过程式编程（procedural programming），更适合多人合作的大型软件项目。")]),a("p",[s._v("面向对象与面向过程：")]),a("ul",[a("li",[s._v("面向过程就是亲力亲为，事无巨细，面面俱到，步步紧跟，有条不紊")]),a("li",[s._v("面向对象就是找一个对象，指挥得结果")]),a("li",[s._v("面向对象将执行者转变成指挥者")]),a("li",[s._v("面向对象不是面向过程的替代，而是面向过程的封装")])]),a("p",[s._v("面向对象的特性：封装性、继承性、多态性")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("程序中面向对象的基本体现")])]),a("p",[s._v("在 JavaScript 中，所有数据类型都可以视为对象，当然也可以自定义对象。\n自定义的对象数据类型就是面向对象中的类（ Class ）的概念。\n我们以一个例子来说明面向过程和面向对象在程序流程上的不同之处。\n假设我们要处理学生的成绩表，为了表示一个学生的成绩，面向过程的程序可以用一个对象表示：\n如果采用面向对象的程序设计思想，我们首选思考的不是程序的执行流程，\n而是 "),a("code",{pre:!0},[s._v("Student")]),s._v(" 这种数据类型应该被视为一个对象，这个对象拥有 "),a("code",{pre:!0},[s._v("name")]),s._v(" 和 "),a("code",{pre:!0},[s._v("score")]),s._v(" 这两个属性（Property）。\n如果要打印一个学生的成绩，首先必须创建出这个学生对应的对象，然后，给对象发一个 "),a("code",{pre:!0},[s._v("printScore")]),s._v(" 消息，让对象自己把自己的数据打印出来。\n抽象数据行为模板（Class）：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, score")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".score = score\n}\n\nStudent.prototype.printScore = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名：'")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'  '")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'成绩：'")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".score)\n}\n")])]),a("p",[s._v("根据模板创建具体实例对象（Instance）：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" std1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Student("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Michael'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("98")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" std2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Student("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Bob'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("81")]),s._v(")\n")])]),a("p",[s._v("实例对象具有自己的具体行为（给对象发消息）：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("std1.printScore() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 姓名：Michael  成绩：98")]),s._v("\nstd2.printScore() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 姓名：Bob  成绩 81")]),s._v("\n")])]),a("p",[s._v("面向对象的设计思想是从自然界中来的，因为在自然界中，类（Class）和实例（Instance）的概念是很自然的。\nClass 是一种抽象概念，比如我们定义的 Class——Student ，是指学生这个概念，\n而实例（Instance）则是一个个具体的 Student ，比如， Michael 和 Bob 是两个具体的 Student 。\n所以，面向对象的设计思想是：")]),a("ul",[a("li",[s._v("抽象出 Class")]),a("li",[s._v("根据 Class 创建 Instance")]),a("li",[s._v("指挥 Instance 得结果")])]),a("p",[s._v("面向对象的抽象程度又比函数要高，因为一个 Class 既包含数据，又包含操作数据的方法。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("创建对象")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("简单方式")])]),a("p",[s._v("我们可以直接通过 "),a("code",{pre:!0},[s._v("new Object()")]),s._v(" 创建：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" person = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v("()\nperson.name = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v("\nperson.age = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v("\n\nperson.sayName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n")])]),a("p",[s._v("每次创建通过 "),a("code",{pre:!0},[s._v("new Object()")]),s._v(" 比较麻烦，所以可以通过它的简写形式对象字面量来创建：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" person = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n}\n")])]),a("p",[s._v("对于上面的写法固然没有问题，但是假如我们要生成两个 "),a("code",{pre:!0},[s._v("person")]),s._v(" 实例对象呢？\n通过上面的代码我们不难看出，这样写的代码太过冗余，重复性太高。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("简单方式的改进：工厂函数")])]),a("p",[s._v("我们可以写一个函数，解决代码重复问题：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("createPerson")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": name,\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": age,\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n   }\n }\n}\n")])]),a("p",[s._v("然后生成实例对象：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = createPerson("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = createPerson("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Mike'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n")])]),a("p",[s._v("这样封装确实爽多了，通过工厂模式我们解决了创建多个相似对象代码冗余的问题，\n但却没有解决对象识别的问题（即怎样知道一个对象的类型）。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数")])]),a("p",[s._v("内容引导：")]),a("ul",[a("li",[s._v("构造函数语法")]),a("li",[s._v("分析构造函数")]),a("li",[s._v("构造函数和实例对象的关系：实例的 constructor 属性、instanceof 操作符")]),a("li",[s._v("普通函数调用和构造函数调用的区别")]),a("li",[s._v("构造函数的返回值")]),a("li",[s._v("构造函数的静态成员和实例成员：函数也是对象、实例成员、静态成员")]),a("li",[s._v("构造函数的问题")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("更优雅的工厂函数：构造函数")])]),a("p",[s._v("一种更优雅的工厂函数就是下面这样，构造函数：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\np1.sayName() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => Jack")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Mike'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("23")]),s._v(")\np2.sayName() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => Mike")]),s._v("\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("解析构造函数代码的执行")])]),a("p",[s._v("在上面的示例中，"),a("code",{pre:!0},[s._v("Person()")]),s._v(" 函数取代了 "),a("code",{pre:!0},[s._v("createPerson()")]),s._v(" 函数，但是实现效果是一样的。\n这是为什么呢？\n我们注意到，"),a("code",{pre:!0},[s._v("Person()")]),s._v(" 中的代码与 "),a("code",{pre:!0},[s._v("createPerson()")]),s._v(" 有以下几点不同之处：")]),a("ul",[a("li",[s._v("没有显示的创建对象")]),a("li",[s._v("直接将属性和方法赋给了 "),a("code",{pre:!0},[s._v("this")]),s._v(" 对象")]),a("li",[s._v("没有 "),a("code",{pre:!0},[s._v("return")]),s._v(" 语句")]),a("li",[s._v("函数名使用的是大写的 "),a("code",{pre:!0},[s._v("Person")])])]),a("p",[s._v("而要创建 "),a("code",{pre:!0},[s._v("Person")]),s._v(" 实例，则必须使用 "),a("code",{pre:!0},[s._v("new")]),s._v(" 操作符。\n以这种方式调用构造函数会经历以下 4 个步骤：")]),a("ol",[a("li",[s._v("创建一个新对象")]),a("li",[s._v("将构造函数的作用域赋给新对象（因此 this 就指向了这个新对象）")]),a("li",[s._v("执行构造函数中的代码")]),a("li",[s._v("返回新对象")])]),a("p",[s._v("下面是具体的伪代码：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当使用 new 操作符调用 Person() 的时候，实际上这里会先创建一个对象")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// var instance = {}")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 然后让内部的 this 指向 instance 对象")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this = instance")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 接下来所有针对 this 的操作实际上操作的就是 instance")]),s._v("\n\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在函数的结尾处会将 this 返回，也就是 instance")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return this")]),s._v("\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数和实例对象的关系")])]),a("p",[s._v("使用构造函数的好处不仅仅在于代码的简洁性，更重要的是我们可以识别对象的具体类型了。\n在每一个实例对象中的__proto__中同时有一个 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，该属性指向创建该实例的构造函数：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.constructor === Person) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p2.constructor === Person) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.constructor === p2.constructor) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",[s._v("对象的 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 属性最初是用来标识对象类型的，\n但是，如果要检测对象的类型，还是使用 "),a("code",{pre:!0},[s._v("instanceof")]),s._v(" 操作符更可靠一些：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1 "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" Person) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p2 "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" Person) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",[s._v("总结：")]),a("ul",[a("li",[s._v("构造函数是根据具体的事物抽象出来的抽象模板")]),a("li",[s._v("实例对象是根据抽象的构造函数模板得到的具体实例对象")]),a("li",[s._v("每一个实例对象都具有一个 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，指向创建该实例的构造函数\n注意： "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 是实例的属性的说法不严谨，具体后面的原型会讲到")]),a("li",[s._v("可以通过实例的 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 属性判断实例和构造函数之间的关系\n注意：这种方式不严谨，推荐使用 "),a("code",{pre:!0},[s._v("instanceof")]),s._v(" 操作符，后面学原型会解释为什么")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数的问题")])]),a("p",[s._v("使用构造函数带来的最大的好处就是创建对象更方便了，但是其本身也存在一个浪费内存的问题：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayHello = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'lpz'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(")\n")])]),a("p",[s._v("在该示例中，从表面上好像没什么问题，但是实际上这样做，有一个很大的弊端。\n那就是对于每一个实例对象，"),a("code",{pre:!0},[s._v("type")]),s._v(" 和 "),a("code",{pre:!0},[s._v("sayHello")]),s._v(" 都是一模一样的内容，\n每一次生成一个实例，都必须为重复的内容，多占用一些内存，如果实例对象很多，会造成极大的内存浪费。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayHello === p2.sayHello) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => false")]),s._v("\n")])]),a("p",[s._v("对于这种问题我们可以把需要共享的函数定义到构造函数外部：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("sayHello")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayHello = sayHello\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'lpz'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayHello === p2.sayHello) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",[s._v("这样确实可以了，但是如果有多个需要共享的函数的话就会造成全局命名空间冲突的问题。\n你肯定想到了可以把多个函数放到一个对象中用来避免全局命名空间冲突的问题：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" fns = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayHello")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n },\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayAge")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age)\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayHello = fns.sayHello\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".sayAge = fns.sayAge\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'lpz'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Jack'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayHello === p2.sayHello) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayAge === p2.sayAge) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",[s._v("至此，我们利用自己的方式基本上解决了构造函数的内存浪费问题。\n但是代码看起来还是那么的格格不入，那有没有更好的方式呢？")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数小结")])]),a("ul",[a("li",[s._v("构造函数语法")]),a("li",[s._v("分析构造函数")]),a("li",[s._v("构造函数和实例对象的关系：实例的 constructor 属性、instanceof 操作符")]),a("li",[s._v("构造函数的问题")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("原型")])]),a("p",[s._v("内容引导：")]),a("ul",[a("li",[s._v("使用 prototype 原型对象解决构造函数的问题")]),a("li",[s._v("分析 构造函数、prototype 原型对象、实例对象 三者之间的关系")]),a("li",[s._v("属性成员搜索原则：原型链")]),a("li",[s._v("实例对象读写原型对象中的成员")]),a("li",[s._v("原型对象的简写形式")]),a("li",[s._v("原生对象的原型：Object、Array、String")]),a("li",[s._v("原型对象的问题")]),a("li",[s._v("构造的函数和原型对象使用建议")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("更好的解决方案： "),a("code",[s._v("prototype")])])]),a("p",[s._v("Javascript 规定，每一个构造函数都有一个 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 属性，指向另一个对象。\n这个对象的所有属性和方法，都会被构造函数的实例继承。\n这也就意味着，我们可以把所有对象实例需要共享的属性和方法直接定义在 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象上。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(Person.prototype)\nPerson.prototype.type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\nPerson.prototype.sayName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person(...)\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person(...)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(p1.sayName === p2.sayName) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",[s._v("这时所有实例的 "),a("code",{pre:!0},[s._v("type")]),s._v(" 属性和 "),a("code",{pre:!0},[s._v("sayName()")]),s._v(" 方法，\n其实都是同一个内存地址，指向 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象，因此就提高了运行效率。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数、实例、原型三者之间的关系")])]),a("p",[a("img",{attrs:{src:"media/06JavaScriptProfessional/Constructor.png",alt:"构造函数、实例、原型三者之间的关系"}}),s._v("\n任何函数都具有一个 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 属性，该属性是一个对象。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("F")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{}\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(F.prototype) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => object")]),s._v("\n\nF.prototype.sayHi = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hi!'")]),s._v(")\n}\n")])]),a("p",[s._v("构造函数的 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象默认都有一个 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，指向 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象所在函数。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(F.constructor === F) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",[s._v("通过构造函数得到的实例对象内部会包含一个指向构造函数的 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象的指针 "),a("code",{pre:!0},[s._v("__proto__")]),s._v("。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" instance = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" F()\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(instance.__proto__ === F.prototype) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("p",{staticClass:"tip"},[s._v("\n  `__proto__` 是非标准属性。\n")]),a("p",[s._v("实例对象可以直接访问原型对象成员。")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("instance.sayHi() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => hi!")]),s._v("\n")])]),a("p",[s._v("总结：")]),a("ul",[a("li",[s._v("任何函数都具有一个 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 属性，该属性是一个对象")]),a("li",[s._v("构造函数的 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象默认都有一个 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 属性，指向 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象所在函数")]),a("li",[s._v("通过构造函数得到的实例对象内部会包含一个指向构造函数的 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 对象的指针 "),a("code",{pre:!0},[s._v("__proto__")])]),a("li",[s._v("所有实例都直接或间接继承了原型对象的成员")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("属性成员的搜索原则：原型链")])]),a("p",[s._v("了解了 "),a("strong",[s._v("构造函数-实例-原型对象")]),s._v(" 三者之间的关系后，接下来我们来解释一下为什么实例对象可以访问原型对象中的成员。\n每当代码读取某个对象的某个属性时，都会执行一次搜索，目标是具有给定名字的属性")]),a("ul",[a("li",[s._v("搜索首先从对象实例本身开始")]),a("li",[s._v("如果在实例中找到了具有给定名字的属性，则返回该属性的值")]),a("li",[s._v("如果没有找到，则继续搜索指针指向的原型对象，在原型对象中查找具有给定名字的属性")]),a("li",[s._v("如果在原型对象中找到了这个属性，则返回该属性的值")])]),a("p",[s._v("也就是说，在我们调用 "),a("code",{pre:!0},[s._v("person1.sayName()")]),s._v(" 的时候，会先后执行两次搜索：")]),a("ul",[a("li",[s._v("首先，解析器会问：“实例 person1 有 sayName 属性吗？”答：“没有。")]),a("li",[s._v("”然后，它继续搜索，再问：“ person1 的原型有 sayName 属性吗？”答：“有。")]),a("li",[s._v("”于是，它就读取那个保存在原型对象中的函数。")]),a("li",[s._v("当我们调用 person2.sayName() 时，将会重现相同的搜索过程，得到相同的结果。")])]),a("p",[s._v("而这正是多个对象实例共享原型所保存的属性和方法的基本原理。\n总结：")]),a("ul",[a("li",[s._v("先在自己身上找，找到即返回")]),a("li",[s._v("自己身上找不到，则沿着原型链向上查找，找到即返回")]),a("li",[s._v("如果一直到原型链的末端还没有找到，则返回 "),a("code",{pre:!0},[s._v("undefined")])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("实例对象读写原型对象成员")])]),a("p",[s._v("读取：")]),a("ul",[a("li",[s._v("先在自己身上找，找到即返回")]),a("li",[s._v("自己身上找不到，则沿着原型链向上查找，找到即返回")]),a("li",[s._v("如果一直到原型链的末端还没有找到，则返回 "),a("code",{pre:!0},[s._v("undefined")])])]),a("p",[s._v("值类型成员写入（"),a("code",{pre:!0},[s._v("实例对象.值类型成员 = xx")]),s._v("）：")]),a("ul",[a("li",[s._v("当实例期望重写原型对象中的某个普通数据成员时实际上会把该成员添加到自己身上")]),a("li",[s._v("也就是说该行为实际上会屏蔽掉对原型对象成员的访问")])]),a("p",[s._v("引用类型成员写入（"),a("code",{pre:!0},[s._v("实例对象.引用类型成员 = xx")]),s._v("）：")]),a("ul",[a("li",[s._v("同上")])]),a("p",[s._v("复杂类型修改（"),a("code",{pre:!0},[s._v("实例对象.成员.xx = xx")]),s._v("）：")]),a("ul",[a("li",[s._v("同样会先在自己身上找该成员，如果自己身上找到则直接修改")]),a("li",[s._v("如果自己身上找不到，则沿着原型链继续查找，如果找到则修改")]),a("li",[s._v("如果一直到原型链的末端还没有找到该成员，则报错（"),a("code",{pre:!0},[s._v("实例对象.undefined.xx = xx")]),s._v("）")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("更简单的原型语法")])]),a("p",[s._v("我们注意到，前面例子中每添加一个属性和方法就要敲一遍 "),a("code",{pre:!0},[s._v("Person.prototype")]),s._v(" 。\n为减少不必要的输入，更常见的做法是用一个包含所有属性和方法的对象字面量来重写整个原型对象：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayHello")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'我叫'")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'，我今年'")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'岁了'")]),s._v(")\n }\n}\n")])]),a("p",[s._v("在该示例中，我们将 "),a("code",{pre:!0},[s._v("Person.prototype")]),s._v(" 重置到了一个新的对象。\n这样做的好处就是为 "),a("code",{pre:!0},[s._v("Person.prototype")]),s._v(" 添加成员简单了，但是也会带来一个问题，那就是原型对象丢失了 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 成员。")]),a("p",[s._v("所以，我们为了保持 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 的指向正确，建议的写法是：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("constructor")]),s._v(": Person, "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 手动将 constructor 指向正确的构造函数")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sayHello")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'我叫'")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'，我今年'")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'岁了'")]),s._v(")\n }\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("原生对象的原型")])]),a("p",{staticClass:"tip"},[s._v("\n  所有函数都有 prototype 属性对象。\n")]),a("ul",[a("li",[s._v("Object.prototype")]),a("li",[s._v("Function.prototype")]),a("li",[s._v("Array.prototype")]),a("li",[s._v("String.prototype")]),a("li",[s._v("Number.prototype")]),a("li",[s._v("Date.prototype")]),a("li",[s._v("...")])]),a("p",[s._v("练习：为数组对象和字符串对象扩展原型方法。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("原型对象的问题")])]),a("ul",[a("li",[s._v("共享数组")]),a("li",[s._v("共享对象")])]),a("p",[s._v("如果真的希望可以被实例对象之间共享和修改这些共享数据那就不是问题。但是如果不希望实例之间共享和修改这些共享数据则就是问题。\n一个更好的建议是，最好不要让实例之间互相共享这些数组或者对象成员，一旦修改的话会导致数据的走向很不明确而且难以维护。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("原型对象使用建议")])]),a("ul",[a("li",[s._v("私有成员（一般就是非函数成员）放到构造函数中")]),a("li",[s._v("共享成员（一般就是函数）放到原型对象中")]),a("li",[s._v("如果重置了 "),a("code",{pre:!0},[s._v("prototype")]),s._v(" 记得修正 "),a("code",{pre:!0},[s._v("constructor")]),s._v(" 的指向")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("搭建页面")])]),a("p",[s._v("放一个容器盛放游戏场景 div#map，设置样式")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-css"},[s._v("css")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[a("span",{pre:!0,attrs:{class:"hljs-selector-id"}},[s._v("#map")]),s._v(" {\n "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800px")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("600px")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": relative;\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("分析对象")])]),a("ul",[a("li",[s._v("游戏对象")]),a("li",[s._v("蛇对象")]),a("li",[s._v("食物对象")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("创建食物对象")])]),a("ul",[a("li",[a("p",[s._v("Food")]),a("ul",[a("li",[a("p",[s._v("属性")]),a("ul",[a("li",[s._v("x")]),a("li",[s._v("y")]),a("li",[s._v("width")]),a("li",[s._v("height")]),a("li",[s._v("color")])])]),a("li",[a("p",[s._v("方法")]),a("ul",[a("li",[s._v("render       随机创建一个食物对象，并输出到map上")])])])])]),a("li",[a("p",[s._v("创建Food的构造函数，并设置属性")])])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" position = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'absolute'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" elements = [];\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Food")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x, y, width, height, color")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x = x || "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".y = y || "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 食物的宽度和高度(像素)")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width = width || "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height = height || "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 食物的颜色")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".color = color || "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'green'")]),s._v(";\n}\n")])]),a("ul",[a("li",[s._v("通过原型设置render方法，实现随机产生食物对象，并渲染到map上")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Food.prototype.render = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("map")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 随机食物的位置，map.宽度/food.宽度，总共有多少分food的宽度，随机一下。然后再乘以food的宽度")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseInt")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() * map.offsetWidth / "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width) * "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width;\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".y = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseInt")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() * map.offsetHeight / "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height) * "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height;\n\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 动态创建食物对应的div")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" div = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'div'")]),s._v(");\n map.appendChild(div);\n div.style.position = position;\n div.style.left = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.top = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".y + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.width = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.height = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n div.style.backgroundColor = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".color;\n elements.push(div);\n}\n")])]),a("ul",[a("li",[s._v("通过自调用函数，进行封装，通过window暴露Food对象")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".Food = Food;\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("创建蛇对象")])]),a("ul",[a("li",[a("p",[s._v("Snake")])]),a("li",[a("p",[s._v("属性")]),a("ul",[a("li",[s._v("width    蛇节的宽度 默认20")]),a("li",[s._v("height   蛇节的高度 默认20")]),a("li",[s._v("body     数组，蛇的头部和身体，第一个位置是蛇头")]),a("li",[s._v("direction    蛇运动的方向  默认right  可以是 left  top bottom")])])]),a("li",[a("p",[s._v("方法")]),a("ul",[a("li",[s._v("render  把蛇渲染到map上")])])]),a("li",[a("p",[s._v("Snake构造函数")])])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" position = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'absolute'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" elements = [];\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Snake")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("width, height, direction")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置每一个蛇节的宽度")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width = width || "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height = height || "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 蛇的每一部分, 第一部分是蛇头")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body = [\n   {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v("},\n   {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v("},\n   {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'red'")]),s._v("}\n ];\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".direction = direction || "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(";\n}\n")])]),a("ul",[a("li",[s._v("render方法")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Snake.prototype.render = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("map")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.length; i++) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" obj = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i];\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" div = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'div'")]),s._v(");\n   map.appendChild(div);\n   div.style.left = obj.x * "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n   div.style.top = obj.y * "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n   div.style.position = position;\n   div.style.backgroundColor = obj.color;\n   div.style.width = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n   div.style.height = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n }\n}\n")])]),a("ul",[a("li",[s._v("在自调用函数中暴露Snake对象")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".Snake = Snake;\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("创建游戏对象")])]),a("p",[s._v("游戏对象，用来管理游戏中的所有对象和开始游戏")]),a("ul",[a("li",[s._v("Game\n"),a("ul",[a("li",[s._v("属性\n"),a("ul",[a("li",[s._v("food")]),a("li",[s._v("snake")]),a("li",[s._v("map")])])]),a("li",[s._v("方法\n"),a("ul",[a("li",[s._v("start            开始游戏（绘制所有游戏对象）")])])])])]),a("li",[s._v("构造函数")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Game")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("map")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".food = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Food();\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Snake();\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map = map;\n}\n")])]),a("ul",[a("li",[s._v("开始游戏，渲染食物对象和蛇对象")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Game.prototype.start = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".food.render("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.render("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("游戏的逻辑")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("写蛇的move方法")])]),a("ul",[a("li",[s._v("在蛇对象(snake.js)中，在Snake的原型上新增move方法")])]),a("ol",[a("li",[s._v("让蛇移动起来，把蛇身体的每一部分往前移动一下")]),a("li",[s._v("蛇头部分根据不同的方向决定 往哪里移动")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("Snake.prototype.move = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("food, map")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 让蛇身体的每一部分往前移动一下")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.length - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("(; i > "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i--) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i].x = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("].x;\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i].y = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body[i - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("].y;\n }\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 根据移动的方向，决定蛇头如何处理")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".direction) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'left'")]),s._v(":\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].x -= "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(":\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].x += "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'top'")]),s._v(":\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].y -= "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bottom'")]),s._v(":\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].y += "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n }\n}\n")])]),a("ul",[a("li",[s._v("在game中测试")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.move("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".food, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.render("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".map);\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("让蛇自己动起来")])]),a("ul",[a("li",[a("p",[s._v("私有方法")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")])])]),a("hr"),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("   什么是私有方法？\n     不能被外部访问的方法\n   如何创建私有方法？\n     使用自调用函数包裹\n   ```\n\n- 在game.js中 添加runSnake的私有方法，开启定时器调用蛇的move和render方法，让蛇动起来\n- 判断蛇是否撞墙\n\n---snippet js \n---\n```js\nfunction runSnake() {\n var timerId = setInterval(function() {\n   this.snake.move(this.food, this.map);\n   // 在渲染前，删除之前的蛇\n   this.snake.render(this.map);\n   // 判断蛇是否撞墙\n   var maxX = this.map.offsetWidth / this.snake.width;\n   var maxY = this.map.offsetHeight / this.snake.height;\n   var headX = this.snake.body[0].x;\n   var headY = this.snake.body[0].y;\n   if (headX "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("< "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("0")]),s._v(" || "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("headX")]),s._v(" >")]),s._v("= maxX) {\n     clearInterval(timerId);\n     alert('Game Over');\n   }\n\n   if (headY "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("< "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("0")]),s._v(" || "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("headY")]),s._v(" >")]),s._v("= maxY) {\n     clearInterval(timerId);\n     alert('Game Over');\n   }\n\n }.bind(that), 150);\n}\n")])]),a("ul",[a("li",[s._v("在snake中添加删除蛇的私有方法，在render中调用")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("remove")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除渲染的蛇")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = elements.length - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("(; i >= "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i--) {\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除页面上渲染的蛇")]),s._v("\n   elements[i].parentNode.removeChild(elements[i]);\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除elements数组中的元素")]),s._v("\n   elements.splice(i, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n }\n}\n")])]),a("ul",[a("li",[s._v("在game中通过键盘控制蛇的移动方向")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("bindKey")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".addEventListener("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'keydown'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v(" (e.keyCode) {\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("37")]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// left")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'left'")]),s._v(";\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("38")]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// top")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'top'")]),s._v(";\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("39")]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// right")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(";\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(":\n       "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// bottom")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".snake.direction = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bottom'")]),s._v(";\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n   }\n }.bind(that), "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(");\n}\n")])]),a("ul",[a("li",[s._v("在start方法中调用")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("bindKey();\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("判断蛇是否吃到食物")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在Snake的move方法中")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在移动的过程中判断蛇是否吃到食物")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果蛇头和食物的位置重合代表吃到食物")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 食物的坐标是像素，蛇的坐标是几个宽度，进行转换")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" headX = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].x * "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".width;\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" headY = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].y * "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".height;\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (headX === food.x && headY === food.y) {\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 吃到食物，往蛇节的最后加一节")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" last = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body["),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.length - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("];\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".body.push({\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": last.x,\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": last.y,\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": last.color\n })\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 把现在的食物对象删除，并重新随机渲染一个食物对象")]),s._v("\n food.render(map);\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("其它处理")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("把html中的js代码放到index.js中")])]),a("p",[s._v("避免html中出现js代码")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("自调用函数的参数")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("window, undefined")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".document;\n\n}("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("))\n")])]),a("ul",[a("li",[s._v("传入window对象\n将来代码压缩的时候，可以吧 function (window)  压缩成 function (w)")]),a("li",[s._v("传入undefined\n在将来会看到别人写的代码中会把undefined作为函数的参数(当前案例没有使用)\n因为在有的老版本的浏览器中 undefined可以被重新赋值，防止undefined 被重新赋值")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("整理代码")])]),a("p",[s._v("现在的代码结构清晰，谁出问题就找到对应的js文件即可。\n通过自调用函数，已经防止了变量命名污染的问题")]),a("p",[s._v("但是，由于js文件数较多，需要在页面上引用，会产生文件依赖的问题(先引入那个js，再引入哪个js)\n将来通过工具把js文件合并并压缩。现在手工合并js文件演示")]),a("ul",[a("li",[s._v("问题1")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果存在多个自调用函数要用分号分割，否则语法错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 下面代码会报错")]),s._v("\n("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n\n("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 所以代码规范中会建议在自调用函数之前加上分号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 下面代码没有问题")]),s._v("\n;("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n\n;("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n}())\n")])]),a("ul",[a("li",[s._v("问题2")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-js"},[s._v("js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当自调用函数 前面有函数声明时，会把自调用函数作为参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 所以建议自调用函数前，加上;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n alert("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'11'")]),s._v(");\n}\n\n("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n alert("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'22'")]),s._v(");\n}())\n")])]),a("hr"),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("继承")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("什么是继承")])]),a("ul",[a("li",[s._v("现实生活中的继承")]),a("li",[s._v("程序中的继承")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数的属性继承：借用构造函数")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 借用构造函数继承属性成员")]),s._v("\n Person.call("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", name, age)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s1 = Student("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'张三'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(s1.type, s1.name, s1.age) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => human 张三 18")]),s._v("\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("构造函数的原型方法继承：拷贝继承（for-in）")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype.sayName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n Person.call("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", name, age)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 原型对象拷贝继承原型对象成员")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" Person.prototype) {\n Student.prototype[key] = Person.prototype[key]\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s1 = Student("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'张三'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n\ns1.sayName() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => hello 张三")]),s._v("\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("另一种继承方式：原型继承")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Person")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".type = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'human'")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name = name\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".age = age\n}\n\nPerson.prototype.sayName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello '")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Student")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, age")]),s._v(") ")]),s._v("{\n Person.call("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", name, age)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 利用原型的特性实现继承")]),s._v("\nStudent.prototype = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Person()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" s1 = Student("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'张三'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(s1.type) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => human")]),s._v("\n\ns1.sayName() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => hello 张三")]),s._v("\n")])]),a("hr"),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数进阶")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数的定义方式")])]),a("ul",[a("li",[s._v("函数声明")]),a("li",[s._v("函数表达式")]),a("li",[a("code",{pre:!0},[s._v("new Function")])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数声明")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("foo")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数表达式")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数声明与函数表达式的区别")])]),a("ul",[a("li",[s._v("函数声明必须有名字")]),a("li",[s._v("函数声明会函数提升，在预解析阶段就已创建，声明前后都可以调用")]),a("li",[s._v("函数表达式类似于变量赋值")]),a("li",[s._v("函数表达式可以没有名字，例如匿名函数")]),a("li",[s._v("函数表达式没有变量提升，在执行阶段创建，必须在表达式执行之后才可以调用")])]),a("p",[s._v("下面是一个根据条件定义函数的例子：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n }\n} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")\n }\n}\n")])]),a("p",[s._v("以上代码执行结果在不同浏览器中结果不一致。\n不过我们可以使用函数表达式解决上面的问题：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" f\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n f = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n }\n} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n f = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")\n }\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数的调用方式")])]),a("ul",[a("li",[s._v("普通函数")]),a("li",[s._v("构造函数")]),a("li",[s._v("对象方法")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数内 "),a("code",[s._v("this")]),s._v(" 指向的不同场景")])]),a("p",[s._v("函数的调用方式决定了 "),a("code",{pre:!0},[s._v("this")]),s._v(" 指向的不同：")]),a("div",{staticClass:"hv-snippet--table"},[a("table",[a("thead",[a("tr",[a("th",[s._v("调用方式")]),a("th",[s._v("非严格模式")]),a("th",[s._v("备注")])])]),a("tbody",[a("tr",[a("td",[s._v("普通函数调用")]),a("td",[s._v("window")]),a("td",[s._v("严格模式下是 undefined")])]),a("tr",[a("td",[s._v("构造函数调用")]),a("td",[s._v("实例对象")]),a("td",[s._v("原型方法中 this 也是实例对象")])]),a("tr",[a("td",[s._v("对象方法调用")]),a("td",[s._v("该方法所属对象")]),a("td",[s._v("紧挨着的对象")])]),a("tr",[a("td",[s._v("事件绑定方法")]),a("td",[s._v("绑定事件对象")]),a("td")]),a("tr",[a("td",[s._v("定时器函数")]),a("td",[s._v("window")]),a("td")])])])]),a("p",[s._v("这就是对函数内部 this 指向的基本整理，写代码写多了自然而然就熟悉了。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数也是对象")])]),a("ul",[a("li",[s._v("所有函数都是 "),a("code",{pre:!0},[s._v("Function")]),s._v(" 的实例")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("call、apply、bind")])]),a("p",[s._v("那了解了函数 this 指向的不同场景之后，我们知道有些情况下我们为了使用某种特定环境的 this 引用，\n这时候时候我们就需要采用一些特殊手段来处理了，例如我们经常在定时器外部备份 this 引用，然后在定时器函数内部使用外部 this 的引用。\n然而实际上对于这种做法我们的 JavaScript 为我们专门提供了一些函数方法用来帮我们更优雅的处理函数内部 this 指向问题。\n这就是接下来我们要学习的 call、apply、bind 三个函数方法。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("call")])]),a("p",[a("code",{pre:!0},[s._v("call()")]),s._v(" 方法调用一个函数, 其具有一个指定的 "),a("code",{pre:!0},[s._v("this")]),s._v(" 值和分别地提供的参数(参数的列表)。")]),a("p",{staticClass:"danger"},[s._v("\n  注意：该方法的作用和 `apply()` 方法类似，只有一个区别，就是 `call()` 方法接受的是若干个参数的列表，而 `apply()` 方法接受的是一个包含多个参数的数组。\n")]),a("p",[s._v("语法：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.call(thisArg[, arg1[, arg2[, ...]]])\n")])]),a("p",[s._v("参数：")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("thisArg")]),s._v("\n在 fun 函数运行时指定的 this 值\n如果指定了 null 或者 undefined 则内部 this 指向 window")]),a("li",[a("code",{pre:!0},[s._v("arg1, arg2, ...")]),s._v("\n指定的参数列表")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("apply")])]),a("p",[a("code",{pre:!0},[s._v("apply()")]),s._v(" 方法调用一个函数, 其具有一个指定的 "),a("code",{pre:!0},[s._v("this")]),s._v(" 值，以及作为一个数组（或类似数组的对象）提供的参数。")]),a("p",{staticClass:"danger"},[s._v("\n  注意：该方法的作用和 `call()` 方法类似，只有一个区别，就是 `call()` 方法接受的是若干个参数的列表，而 `apply()` 方法接受的是一个包含多个参数的数组。\n")]),a("p",[s._v("语法：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.apply(thisArg, [argsArray])\n")])]),a("p",[s._v("参数：")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("thisArg")])]),a("li",[a("code",{pre:!0},[s._v("argsArray")])])]),a("p",[a("code",{pre:!0},[s._v("apply()")]),s._v(" 与 "),a("code",{pre:!0},[s._v("call()")]),s._v(" 非常相似，不同之处在于提供参数的方式。\n"),a("code",{pre:!0},[s._v("apply()")]),s._v(" 使用参数数组而不是一组参数列表。例如：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.apply("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'eat'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bananas'")]),s._v("])\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("bind")])]),a("p",[s._v("bind() 函数会创建一个新函数（称为绑定函数），新函数与被调函数（绑定函数的目标函数）具有相同的函数体（在 ECMAScript 5 规范中内置的call属性）。\n当目标函数被调用时 this 值绑定到 bind() 的第一个参数，该参数不能被重写。绑定函数被调用时，bind() 也接受预设的参数提供给原函数。\n一个绑定函数也能使用new操作符创建对象：这种行为就像把原函数当成构造器。提供的 this 值被忽略，同时调用时的参数被提供给模拟函数。")]),a("p",[s._v("语法：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fun.bind(thisArg[, arg1[, arg2[, ...]]])\n")])]),a("p",[s._v("参数：")]),a("ul",[a("li",[s._v("thisArg\n当绑定函数被调用时，该参数会作为原函数运行时的 this 指向。当使用new 操作符调用绑定函数时，该参数无效。")]),a("li",[s._v("arg1, arg2, ...\n当绑定函数被调用时，这些参数将置于实参之前传递给被绑定的方法。\n返回值：\n返回由指定的this值和初始化参数改造的原函数拷贝。\n示例1：")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(" = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("81")]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getX")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{ "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".x; }\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".getX(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回 81")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" retrieveX = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".getX;\nretrieveX(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// 返回 9, 在这种情况下，"this"指向全局作用域')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// 创建一个新函数，将"this"绑定到module对象')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 新手可能会被全局的x变量和module里的属性x所迷惑")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" boundGetX = retrieveX.bind("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(");\nboundGetX(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回 81")]),s._v("\n")])]),a("p",[s._v("示例2：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("LateBloomer")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".petalCount = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".ceil("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(") + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Declare bloom after a delay of 1 second")]),s._v("\nLateBloomer.prototype.bloom = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".setTimeout("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".declare.bind("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("), "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(");\n};\n\nLateBloomer.prototype.declare = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'I am a beautiful flower with '")]),s._v(" +\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".petalCount + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("' petals!'")]),s._v(");\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" flower = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" LateBloomer();\nflower.bloom();  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 一秒钟后, 调用'declare'方法")]),s._v("\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("小结")])]),a("ul",[a("li",[a("p",[s._v("call 和 apply 特性一样\n都是用来调用函数，而且是立即调用\n但是可以在调用函数的同时，通过第一个参数指定函数内部 "),a("code",{pre:!0},[s._v("this")]),s._v(" 的指向\ncall 调用的时候，参数必须以参数列表的形式进行传递，也就是以逗号分隔的方式依次传递即可\napply 调用的时候，参数必须是一个数组，然后在执行的时候，会将数组内部的元素一个一个拿出来，与形参一一对应进行传递\n如果第一个参数指定了 "),a("code",{pre:!0},[s._v("null")]),s._v(" 或者 "),a("code",{pre:!0},[s._v("undefined")]),s._v(" 则内部 this 指向 window")])]),a("li",[a("p",[s._v("bind\n可以用来指定内部 this 的指向，然后生成一个改变了 this 指向的新的函数\n它和 call、apply 最大的区别是：bind 不会调用\nbind 支持传递参数，它的传参方式比较特殊，一共有两个位置可以传递")]),a("ol",[a("li",[s._v("在 bind 的同时，以参数列表的形式进行传递")]),a("li",[s._v("在调用的时候，以参数列表的形式进行传递\n那到底以谁 bind 的时候传递的参数为准呢还是以调用的时候传递的参数为准\n两者合并：bind 的时候传递的参数和调用的时候传递的参数会合并到一起，传递到函数内部")])])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数的其它成员")])]),a("ul",[a("li",[s._v("arguments: 实参集合")]),a("li",[s._v("caller: 函数的调用者")]),a("li",[s._v("length:形参的个数")]),a("li",[s._v("name: 函数的名称")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x, y, z")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fn.length) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 形参的个数")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 伪数组实参参数集合")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(".callee === fn) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 函数本身")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fn.caller) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 函数的调用者")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(fn.name) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 函数的名字")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n fn("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v(")\n}\n\nf()\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("高阶函数")])]),a("ul",[a("li",[s._v("函数可以作为参数")]),a("li",[s._v("函数可以作为返回值")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("作为参数")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("eat")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("callback")]),s._v(") ")]),s._v("{\n setTimeout("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'吃完了'")]),s._v(")\n   callback()\n }, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(")\n}\n\neat("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'去唱歌'")]),s._v(")\n})\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("作为返回值")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("genFun")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("type")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj")]),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".prototype.toString.call(obj) === type\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" isArray = genFun("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'[object Array]'")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" isObject = genFun("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'[object Object]'")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(isArray([])) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(isArray({})) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => true")]),s._v("\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数闭包")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" count = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(count)\n   },\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("setCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     count++\n   }\n }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" fns = fn()\n\nfns.getCount() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 0")]),s._v("\nfns.setCount()\nfns.getCount() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => 1")]),s._v("\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("作用域、作用域链、预解析")])]),a("ul",[a("li",[s._v("全局作用域")]),a("li",[s._v("函数作用域")]),a("li",[a("strong",[s._v("没有块级作用域")])])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(foo)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a)\n")])]),a("p",[s._v("作用域链示例代码：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" b = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("\n\n "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn1")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" c = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a + b + c)\n }\n\n "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn2")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" d = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(c + d)\n }\n\n fn1()\n fn2()\n}\n")])]),a("ul",[a("li",[s._v("内层作用域可以访问外层作用域，反之不行")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("什么是闭包")])]),a("p",[s._v("闭包就是能够读取其他函数内部变量的函数，\n由于在 Javascript 语言中，只有函数内部的子函数才能读取局部变量，\n因此可以把闭包简单理解成 “定义在一个函数内部的函数”。\n所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。\n闭包的用途：")]),a("ul",[a("li",[s._v("可以在函数外部读取函数内部成员")]),a("li",[s._v("让函数内成员始终存活在内存中")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("一些关于闭包的例子")])]),a("p",[s._v("示例1：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" arr = ["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("]\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < arr.length; i++) {\n arr[i] = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(i)\n }\n}\n")])]),a("p",[s._v("示例2：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("111")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("; i++) {\n setTimeout("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(i)\n }, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("222")]),s._v(")\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("闭包的思考题")])]),a("p",[s._v("思考题 1：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" name = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"The Window"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" object = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"My Object"')]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getNameFunc")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".name;\n   };\n }\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(object.getNameFunc()())\n")])]),a("p",[s._v("思考题 2：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" name = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"The Window"')]),s._v(";　　\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" object = {\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"My Object"')]),s._v(",\n "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("getNameFunc")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" that = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n     "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" that.name;\n   };\n }\n};\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(object.getNameFunc()())\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("函数递归")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("递归执行模型")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn1")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("111")]),s._v(")\n fn2()\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn1'")]),s._v(")\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn2")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("222")]),s._v(")\n fn3()\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn2'")]),s._v(")\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn3")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("333")]),s._v(")\n fn4()\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn3'")]),s._v(")\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn4")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("444")]),s._v(")\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'fn4'")]),s._v(")\n}\n\nfn1()\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("举个栗子：计算阶乘的递归函数")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("factorial")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("num")]),s._v(") ")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (num <= "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" num * factorial(num - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n }\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式")])]),a("ul",[a("li",[s._v("了解正则表达式基本语法")]),a("li",[s._v("能够使用JavaScript的正则对象")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式简介")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("什么是正则表达式")])]),a("p",[s._v("正则表达式：用于匹配规律规则的表达式，正则表达式最初是科学家对人类神经系统的工作原理的早期研究，现在在编程语言中有广泛的应用。正则表通常被用来检索、替换那些符合某个模式(规则)的文本。\n正则表达式是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式的作用")])]),a("ol",[a("li",[s._v("给定的字符串是否符合正则表达式的过滤逻辑(匹配)")]),a("li",[s._v("可以通过正则表达式，从字符串中获取我们想要的特定部分(提取)")]),a("li",[s._v("强大的字符串替换能力(替换)")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式的特点")])]),a("ol",[a("li",[s._v("灵活性、逻辑性和功能性非常的强")]),a("li",[s._v("可以迅速地用极简单的方式达到字符串的复杂控制")]),a("li",[s._v("对于刚接触的人来说，比较晦涩难懂")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式的测试")])]),a("ul",[a("li",[a("a",{attrs:{href:"https://c.runoob.com/front-end/854"}},[s._v("在线测试正则")])]),a("li",[s._v("工具中使用正则表达式：sublime/vscode/word、 演示替换所有的数字")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式的组成")])]),a("ul",[a("li",[s._v("普通字符")]),a("li",[s._v("特殊字符(元字符)：正则表达式中有特殊意义的字符")])]),a("p",[s._v("示例演示：")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("\\d")]),s._v(" 匹配数字")]),a("li",[a("code",{pre:!0},[s._v("ab\\d")]),s._v(" 匹配 ab1、ab2")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("元字符串")])]),a("p",[s._v("通过测试工具演示下面元字符的使用")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("常用元字符串")])]),a("div",{staticClass:"hv-snippet--table"},[a("table",[a("thead",[a("tr",[a("th",[s._v("元字符")]),a("th",[s._v("说明")])])]),a("tbody",[a("tr",[a("td",[s._v("\\d")]),a("td",[s._v("匹配数字")])]),a("tr",[a("td",[s._v("\\D")]),a("td",[s._v("匹配任意非数字的字符")])]),a("tr",[a("td",[s._v("\\w")]),a("td",[s._v("匹配字母或数字或下划线")])]),a("tr",[a("td",[s._v("\\W")]),a("td",[s._v("匹配任意不是字母，数字，下划线")])]),a("tr",[a("td",[s._v("\\s")]),a("td",[s._v("匹配任意的空白符")])]),a("tr",[a("td",[s._v("\\S")]),a("td",[s._v("匹配任意不是空白符的字符")])]),a("tr",[a("td",[s._v(".")]),a("td",[s._v("匹配除换行符以外的任意单个字符")])]),a("tr",[a("td",[s._v("^")]),a("td",[s._v("表示匹配行首的文本(以谁开始)")])]),a("tr",[a("td",[s._v("$")]),a("td",[s._v("表示匹配行尾的文本(以谁结束)")])])])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("限定符")])]),a("div",{staticClass:"hv-snippet--table"},[a("table",[a("thead",[a("tr",[a("th",[s._v("限定符")]),a("th",[s._v("说明")])])]),a("tbody",[a("tr",[a("td",[s._v("*")]),a("td",[s._v("重复零次或更多次")])]),a("tr",[a("td",[s._v("+")]),a("td",[s._v("重复一次或更多次")])]),a("tr",[a("td",[s._v("?")]),a("td",[s._v("重复零次或一次")])]),a("tr",[a("td",[s._v("{n}")]),a("td",[s._v("重复n次")])]),a("tr",[a("td",[s._v("{n,}")]),a("td",[s._v("重复n次或更多次")])]),a("tr",[a("td",[s._v("{n,m}")]),a("td",[s._v("重复n到m次")])])])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("其它")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-html"},[s._v("html")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("[] 字符串用中括号括起来，表示匹配其中的任一字符，相当于或的意思\n[^]  匹配除中括号以内的内容\n\\ 转义符\n| 或者，选择两者中的一个。注意|将左右两边分为两部分，而不管左右两边有多长多乱\n() 从两个直接量中选择一个，分组\n  eg：gr(a|e)y匹配gray和grey\n[\\u4e00-\\u9fa5]  匹配汉字\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式案例")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证手机号：")]),s._v("\n^\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("11")]),s._v("}$\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证邮编：")]),s._v("\n^\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v("}$\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证日期 2012-5-01")]),s._v("\n^\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("}-\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("}-\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("}$\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证邮箱 xxx@itcast.cn：")]),s._v("\n^\\w+@\\w+\\.\\w+$\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//验证IP地址 192.168.1.10")]),s._v("\n^\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("}\\(.\\d{"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("}){"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("}$\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("JavaScript 中使用正则表达式")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("创建正则对象")])]),a("p",[s._v("方式：")]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Regex("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'\\d'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'i'")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Regex("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'\\d'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'gi'")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\d/i")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\d/gi")]),s._v(";\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("参数")])]),a("div",{staticClass:"hv-snippet--table"},[a("table",[a("thead",[a("tr",[a("th",[s._v("标志")]),a("th",[s._v("说明")])])]),a("tbody",[a("tr",[a("td",[s._v("i")]),a("td",[s._v("忽略大小写")])]),a("tr",[a("td",[s._v("g")]),a("td",[s._v("全局匹配")])]),a("tr",[a("td",[s._v("gi")]),a("td",[s._v("全局匹配+忽略大小写")])])])])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则匹配")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 匹配日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" dateStr = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'2015-10-10'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/^\\d{4}-\\d{1,2}-\\d{1,2}$/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(reg.test(dateStr));\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("匹配正则表达式")])]),a("p",[s._v('//        console.log(/./.test("除了回车换行以为的任意字符"));//true\n//        console.log(/.'),a("em",[s._v('/.test("0个到多个"));//true\n//        console.log(/.+/.test("1个到多个"));//true\n//        console.log(/.?/.test("哈哈"));//true\n//        console.log(/[0-9]/.test("9527"));//true\n//        console.log(/[a-z]/.test("what"));//true\n//        console.log(/[A-Z]/.test("Are"));//true\n//        console.log(/[a-zA-Z]/.test("干啥子"));//false\n//        console.log(/[0-9a-zA-Z]/.test("9ebg"));//true\n//        console.log(/b|(ara)/.test("abra"));//true\n//        console.log(/[a-z]{2,3}/.test("arfsf"));//true\nconsole.log(/\\d/.test("998"));//true\nconsole.log(/\\d')]),s._v('/.test("998"));//true\nconsole.log(/\\d+/.test("998"));//true\nconsole.log(/\\d{0,}/.test("998"));//true\nconsole.log(/\\d{2,3}/.test("998"));//true\nconsole.log(/\\D/.test("eat"));//true\nconsole.log(/\\s/.test("  "));//true\nconsole.log(/\\S/.test("嘎嘎"));//true\nconsole.log(/\\w/.test("'),a("em",[s._v('"));//true\nconsole.log(/\\W/.test("')]),s._v('"));//true')]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则表达式具体案例")])]),a("p",[s._v("1.验证密码强弱\n2.验证邮箱：[0-9a-zA-Z_.-]+["),a("strong",[s._v("at")]),s._v("][0-9a-zA-Z._-]+([.][a-zA-Z]+){1,2}\n3.验证中文名字[\\u4e00-\\u9fa5]")]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则提取")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1. 提取工资")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"张三：1000，李四：5000，王五：8000。"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" array = str.match("),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\d+/g")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(array);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2. 提取email地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"123123@xx.com,fangfang@valuedopinions.cn 286669312@qq.com 2、emailenglish@emailenglish.englishtown.com 286669312@qq.com..."')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" array = str.match("),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\w+@\\w+\\.\\w+(\\.\\w+)?/g")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(array);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 3. 分组提取  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 3. 提取日期中的年部分  2015-5-10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" dateStr = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'2016-1-5'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 正则表达式中的()作为分组来使用，获取分组匹配到的结果用Regex.$1 $2 $3....来获取")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/(\\d{4})-\\d{1,2}-\\d{1,2}/")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (reg.test(dateStr)) {\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 4. 提取邮件中的每一部分")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" reg = "),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/(\\w+)@(\\w+)\\.(\\w+)(\\.\\w+)?/")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"123123@xx.com"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (reg.test(str)) {\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(");\n "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(");\n}\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("正则替换")])]),a("div",{staticClass:"hv-snippet--tag hv-snippet--tag-javascript"},[s._v("javascript")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1. 替换所有空白")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"   123AD  asadf   asadfasf  adf "')]),s._v(";\nstr = str.replace("),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\s/g")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"xx"')]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(str);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2. 替换所有,|，")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" str = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"abc,efg,123，abc,123，a"')]),s._v(";\nstr = str.replace("),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/,|，/g")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"."')]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(str);\n")])]),a("hv-snippet",{attrs:{title:""}},[a("template",{slot:"title"},[a("p",[s._v("案例：表单验证")])])],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],2)],1)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ul",[a("li",[s._v("理解面向对象开发思想")]),a("li",[s._v("掌握 JavaScript 面向对象开发相关模式")]),a("li",[s._v("掌握在 JavaScript 中使用正则表达式")]),a("li")])}],p=a("2877"),n={},l=Object(p["a"])(n,r,e,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d20f319.057a1b42.js.map